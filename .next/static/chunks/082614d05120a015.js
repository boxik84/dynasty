(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34465,e=>{"use strict";let a=(0,e.i(98905).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>a],34465)},70065,e=>{"use strict";var a=e.i(78042),s=e.i(47163);function t({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function r({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>i,"CardDescription",()=>l,"CardHeader",()=>r,"CardTitle",()=>d])},6662,e=>{"use strict";let a=(0,e.i(98905).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>a],6662)},9166,e=>{"use strict";let a=(0,e.i(98905).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>a],9166)},84986,e=>{"use strict";let a=(0,e.i(98905).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],84986)},81433,e=>{"use strict";let a=(0,e.i(98905).default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);e.s(["Crown",()=>a],81433)},41379,e=>{"use strict";let a=(0,e.i(98905).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>a],41379)},32291,e=>{"use strict";var a=e.i(78042),s=e.i(45456),t=e.i(45227),r=e.i(27112),d=e.i(70065),l=e.i(94179),i=e.i(71428),c=e.i(69035),n=e.i(72136),o=e.i(93166),x=e.i(95403),h=e.i(88915),m=e.i(9166),p=e.i(41379),b=e.i(98905);let u=(0,b.default)("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var g=e.i(6563);let j=(0,b.default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var v=e.i(84986),y=e.i(34465);let N=(0,b.default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);var w=e.i(81433),f=e.i(6662);function k(){let e=(0,t.useRouter)(),[h,m]=(0,s.useState)(null),[p,b]=(0,s.useState)([]),[u,v]=(0,s.useState)(!0),{data:y,isPending:w}=n.authClient.useSession();return((0,s.useEffect)(()=>{(async()=>{if(!w){if(!y?.user?.id)return e.push("/sign-in");try{let a=await fetch("/api/user/me",{cache:"no-store"}),s=await a.json();if(!s?.discordId){x.toast.error("Nepodařilo se načíst uživatelská data"),e.push("/sign-in");return}if(m(s),s.hasWhitelist||s.permissions?.hasWhitelistPermissions){let e=await fetch(`/api/postavy?discordId=${s.discordId}`);if(e.ok){let a=await e.json();b(a.postavy||[]),a.postavy&&a.postavy.length>0&&x.toast.success(`Načteno ${a.postavy.length} postav`)}else x.toast.error("Chyba při načítání postav")}}catch(a){console.error("Chyba při načítání dat:",a),x.toast.error("Nastala chyba při načítání dat"),e.push("/sign-in")}finally{v(!1)}}})()},[w,y,e]),u||!h)?(0,a.jsxs)("div",{className:"relative min-h-screen bg-[#0a0a0a]",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute left-1/2 top-1/4 z-0 -translate-x-1/2",children:(0,a.jsx)("div",{className:"h-[400px] w-[600px] rounded-full bg-[#b90505]/8 blur-3xl"})}),(0,a.jsxs)("div",{className:"relative z-10 space-y-6 px-4 md:px-0",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(i.Skeleton,{className:"h-8 w-48 bg-white/5"}),(0,a.jsx)(i.Skeleton,{className:"h-4 w-96 bg-white/5"})]}),(0,a.jsx)(c.Separator,{className:"bg-white/10"}),(0,a.jsx)("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)(d.Card,{className:"bg-white/5 border border-white/10 rounded-2xl",children:[(0,a.jsxs)(d.CardHeader,{className:"space-y-2",children:[(0,a.jsx)(i.Skeleton,{className:"h-6 w-1/2 bg-white/10"}),(0,a.jsx)(i.Skeleton,{className:"h-4 w-1/3 bg-white/10"})]}),(0,a.jsxs)(d.CardContent,{className:"space-y-3",children:[(0,a.jsx)(i.Skeleton,{className:"h-4 w-full bg-white/10"}),(0,a.jsx)(i.Skeleton,{className:"h-4 w-full bg-white/10"}),(0,a.jsx)(i.Skeleton,{className:"h-4 w-full bg-white/10"}),(0,a.jsx)(i.Skeleton,{className:"h-4 w-full bg-white/10"})]})]},s))})]})]}):(0,a.jsxs)("div",{className:"relative min-h-screen bg-[#0a0a0a]",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute left-1/2 top-1/4 z-0 -translate-x-1/2",children:(0,a.jsx)("div",{className:"h-[400px] w-[800px] rounded-full bg-[#b90505]/8 blur-3xl"})}),(0,a.jsx)("div",{className:"pointer-events-none absolute right-1/3 bottom-1/3 z-0",children:(0,a.jsx)("div",{className:"h-[300px] w-[500px] rounded-full bg-[#b90505]/5 blur-3xl"})}),(0,a.jsxs)("div",{className:"relative z-10 space-y-8 px-4 md:px-0",children:[(0,a.jsxs)(o.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,a.jsxs)(l.Badge,{variant:"outline",className:"border-[#b90505]/60 text-[#bd2727] bg-[#b90505]/10 px-4 py-1 font-semibold tracking-wide backdrop-blur flex gap-2",children:[(0,a.jsx)(g.Users,{className:"h-4 w-4 text-[#bd2727] drop-shadow-[0_0_5px_#bd2727]"}),"Moje postavy"]})}),(0,a.jsx)("h1",{className:"text-3xl md:text-5xl font-extrabold text-white text-center drop-shadow",children:"Správa postav"}),(0,a.jsx)("p",{className:"text-lg text-gray-400 text-center max-w-2xl mx-auto",children:"Spravujte své postavy a sledujte jejich detaily, bankovní účty a aktivity."})]}),(0,a.jsx)(c.Separator,{className:"bg-white/10"}),(0,a.jsx)(o.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2,ease:"easeOut"},children:h.hasWhitelist||h.permissions?.hasWhitelistPermissions?p.length>0?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(d.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md",children:[(0,a.jsxs)(d.CardHeader,{className:"flex flex-row items-center gap-3 pb-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-[#b90505]/20 text-[#bd2727]",children:(0,a.jsx)(g.Users,{className:"h-5 w-5 drop-shadow-[0_0_5px_#bd2727]"})}),(0,a.jsx)(d.CardTitle,{className:"text-white text-sm",children:"Celkem postav"})]}),(0,a.jsx)(d.CardContent,{children:(0,a.jsx)("p",{className:"text-3xl font-bold text-[#bd2727]",children:p.length})})]}),(0,a.jsxs)(d.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md",children:[(0,a.jsxs)(d.CardHeader,{className:"flex flex-row items-center gap-3 pb-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-green-500/20 text-green-400",children:(0,a.jsx)(N,{className:"h-5 w-5 drop-shadow-[0_0_5px_currentColor]"})}),(0,a.jsx)(d.CardTitle,{className:"text-white text-sm",children:"Celkové bohatství"})]}),(0,a.jsx)(d.CardContent,{children:(0,a.jsxs)("p",{className:"text-3xl font-bold text-green-400",children:["$",p.reduce((e,a)=>{try{let s=JSON.parse(a.accounts||"{}");return e+(s.bank||0)+(s.money||0)}catch{return e}},0).toLocaleString()]})})]}),(0,a.jsxs)(d.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md",children:[(0,a.jsxs)(d.CardHeader,{className:"flex flex-row items-center gap-3 pb-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/20 text-purple-400",children:(0,a.jsx)(f.Activity,{className:"h-5 w-5 drop-shadow-[0_0_5px_currentColor]"})}),(0,a.jsx)(d.CardTitle,{className:"text-white text-sm",children:"Poslední aktivita"})]}),(0,a.jsx)(d.CardContent,{children:(0,a.jsx)("p",{className:"text-sm text-gray-300",children:new Date(Math.max(...p.map(e=>new Date(e.last_seen).getTime()))).toLocaleDateString("cs-CZ")})})]})]}),(0,a.jsx)("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 xl:grid-cols-3",children:p.map((e,s)=>(0,a.jsx)(o.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*s},children:(0,a.jsx)(r.default,{href:`/dashboard/characters/${e.identifier}`,children:(0,a.jsx)(C,{character:e})})},e.identifier))})]}):(0,a.jsx)(d.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md max-w-md mx-auto",children:(0,a.jsxs)(d.CardHeader,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto p-3 rounded-full bg-[#b90505]/20 text-[#bd2727] w-fit mb-4",children:(0,a.jsx)(g.Users,{className:"h-8 w-8 drop-shadow-[0_0_5px_#bd2727]"})}),(0,a.jsx)(d.CardTitle,{className:"text-xl text-white",children:"Žádné postavy"}),(0,a.jsx)(d.CardDescription,{className:"text-gray-400",children:"Zatím nemáte vytvořené žádné postavy. Připojte se na server a vytvořte si svou první postavu!"})]})}):(0,a.jsx)(d.Card,{className:"bg-gradient-to-br from-red-900/20 via-red-800/20 to-red-900/30 border border-red-500/20 shadow-xl rounded-2xl backdrop-blur-md max-w-md mx-auto",children:(0,a.jsxs)(d.CardHeader,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto p-3 rounded-full bg-red-500/20 text-red-400 w-fit mb-4",children:(0,a.jsx)(j,{className:"h-8 w-8"})}),(0,a.jsx)(d.CardTitle,{className:"text-xl text-red-400",children:"Přístup odepřen"}),(0,a.jsx)(d.CardDescription,{className:"text-gray-400",children:h?.discordId?"Nemáte potřebný whitelist pro přístup k postavám.":"Propojte svůj Discord účet pro zobrazení postav."})]})})})]})]})}let C=({character:e})=>{let s;try{s=JSON.parse(e.accounts||"{}")}catch{s={bank:0,money:0}}let t="m"===e.sex,i=(s.bank||0)+(s.money||0),c=new Date(e.created_at),n=Math.floor((Date.now()-c.getTime())/864e5);return(0,a.jsxs)(d.Card,{className:"group bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 hover:border-white/20 shadow-xl rounded-2xl backdrop-blur-md transition-all duration-300 hover:scale-105 cursor-pointer",children:[(0,a.jsx)(d.CardHeader,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(d.CardTitle,{className:"text-xl font-bold text-white group-hover:text-[#bd2727] transition-colors",children:[e.firstname," ",e.lastname]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(l.Badge,{className:`${t?"bg-blue-500/20 text-blue-300 border-blue-500/40":"bg-pink-500/20 text-pink-300 border-pink-500/40"} border`,children:[(0,a.jsx)(h.User,{className:"w-3 h-3 mr-1"}),t?"Muž":"Žena"]}),(0,a.jsxs)(l.Badge,{className:"bg-purple-500/20 text-purple-300 border-purple-500/40 border",children:[(0,a.jsx)(u,{className:"w-3 h-3 mr-1"}),e.height," cm"]})]})]}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-[#b90505]/20 text-[#bd2727]",children:(0,a.jsx)(v.Eye,{className:"h-5 w-5 drop-shadow-[0_0_5px_#bd2727]"})})]})}),(0,a.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,a.jsx)(r.default,{href:`/dashboard/characters/bank?character=${e.identifier}`,children:(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-green-400/30 transition-all duration-300 cursor-pointer group",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-400 group-hover:text-gray-300",children:"Celkové bohatství"}),(0,a.jsx)(p.DollarSign,{className:"h-4 w-4 text-green-400 group-hover:drop-shadow-[0_0_5px_currentColor]"})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-400 group-hover:text-green-300",children:["$",_(i)]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2 group-hover:text-gray-400",children:[(0,a.jsxs)("span",{children:["Banka: $",_(s.bank||0)]}),(0,a.jsxs)("span",{children:["Hotovost: $",_(s.money||0)]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 group-hover:text-gray-500 mt-1 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:"Klikněte pro detaily transakcí"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Datum narození"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Calendar,{className:"h-4 w-4 text-[#bd2727]"}),(0,a.jsx)("span",{className:"text-gray-300",children:new Date(e.dateofbirth).toLocaleDateString("cs-CZ")})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-gray-400",children:"Věk postavy"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Clock,{className:"h-4 w-4 text-orange-400"}),(0,a.jsxs)("span",{className:"text-gray-300",children:[n," dní"]})]})]})]}),(0,a.jsx)("div",{className:"pt-2 border-t border-white/10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Naposledy viděn"}),(0,a.jsx)("span",{className:"text-xs text-gray-300",children:new Date(e.last_seen).toLocaleString("cs-CZ")})]})}),e.iban&&(0,a.jsx)("div",{className:"p-3 rounded-lg bg-[#b90505]/10 border border-[#b90505]/30",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Crown,{className:"h-4 w-4 text-[#bd2727] drop-shadow-[0_0_3px_#bd2727]"}),(0,a.jsxs)("span",{className:"text-xs text-[#bd2727] font-medium",children:["IBAN: ",e.iban]})]})})]})]})};function _(e){return e>=1e3?e.toLocaleString():e.toString()}e.s(["default",()=>k],32291)}]);