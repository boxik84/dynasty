(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53663,e=>{"use strict";let t=(0,e.i(98905).default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],53663)},94179,e=>{"use strict";var t=e.i(78042),a=e.i(20644),s=e.i(94237),i=e.i(47163);let r=(0,s.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,asChild:l=!1,...n}){let d=l?a.Slot:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(r({variant:s}),e),...n})}e.s(["Badge",()=>l])},6662,e=>{"use strict";let t=(0,e.i(98905).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],6662)},81433,e=>{"use strict";let t=(0,e.i(98905).default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);e.s(["Crown",()=>t],81433)},19289,e=>{"use strict";let t=(0,e.i(98905).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>t],19289)},25059,e=>{"use strict";let t=(0,e.i(98905).default)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],25059)},57654,e=>{"use strict";var t=e.i(78042),a=e.i(27112),s=e.i(45227),i=e.i(47163),r=e.i(67832);function l({className:e,items:l,userRoles:n=[],...d}){let o=(0,s.usePathname)();return(0,t.jsxs)("nav",{className:(0,i.cn)("flex flex-col gap-2",e),...d,children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Navigace"})}),(0,t.jsx)(r.MotionHighlight,{hover:!0,controlledItems:!0,transition:{type:"spring",stiffness:350,damping:35},className:"rounded-xl",children:l.map(e=>{let s=o===e.href,l=e.icon;return(0,t.jsx)(r.MotionHighlightItem,{activeClassName:"bg-[#b90505]/20 border-[#b90505]/40",value:e.href,children:(0,t.jsxs)(a.default,{href:e.href,className:(0,i.cn)("group relative flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 border",s?"text-[#b90505] bg-[#b90505]/20 border-[#b90505]/40 shadow-lg shadow-[#b90505]/10":"text-gray-300 hover:text-white bg-transparent border-transparent"),"data-value":e.href,tabIndex:0,children:[l&&(0,t.jsx)(l,{className:(0,i.cn)("w-5 h-5 transition-all duration-200",s?"text-[#b90505] drop-shadow-[0_0_5px_#b90505]":"text-gray-400 group-hover:text-gray-300")}),(0,t.jsx)("span",{className:"flex-1",children:e.title}),s&&(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#b90505] shadow-[0_0_8px_#b90505]"})]})},e.href)})})]})}e.s(["SidebarNav",()=>l])},8374,e=>{"use strict";var t=e.i(78042),a=e.i(45456),s=e.i(45227),i=e.i(67881),r=e.i(94179),l=e.i(57654),n=e.i(25059),d=e.i(6662),o=e.i(53663),c=e.i(53259),x=e.i(6563),m=e.i(19289),h=e.i(21781),u=e.i(81433),p=e.i(93166),v=e.i(95403);let b=[{href:"/admin",icon:m.BarChart3,title:"Přehled"},{href:"/admin/activities",icon:d.Activity,title:"Aktivity"},{href:"/admin/rules",icon:o.FileText,title:"Pravidla"},{href:"/admin/whitelist-questions",icon:c.Shield,title:"Whitelist otázky"},{href:"/admin/users",icon:x.Users,title:"Uživatelé"},{href:"/admin/settings",icon:n.Settings,title:"Nastavení"}];function f({children:e}){let[n,d]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),x=(0,s.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/user/me");if(!e.ok)return void x.push("/sign-in");let t=await e.json();if(!t.permissions?.isAdmin){v.toast.error("Nemáš oprávnění pro přístup do admin panelu!"),x.push("/dashboard");return}d(t)}catch(e){console.error("Admin access check failed:",e),x.push("/sign-in")}finally{c(!1)}})()},[x]);let m=async()=>{try{await fetch("/api/auth/sign-out",{method:"POST"}),x.push("/"),v.toast.success("Byl jsi odhlášen")}catch(e){v.toast.error("Chyba při odhlašování")}};return o?(0,t.jsxs)("div",{className:"relative min-h-screen bg-[#0a0a0a]",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 z-0 overflow-hidden",children:(0,t.jsx)("div",{className:"absolute left-1/2 top-1/4 -translate-x-1/2 h-[300px] w-[400px] md:h-[400px] md:w-[600px] rounded-full bg-[#b90505]/8 blur-3xl"})}),(0,t.jsx)("div",{className:"relative z-10 container mx-auto max-w-7xl py-4 sm:py-6 lg:py-10 px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-[#b90505] border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Načítání admin panelu..."})]})})})]}):(0,t.jsxs)("div",{className:"relative min-h-screen bg-[#0a0a0a]",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 z-0 overflow-hidden",children:(0,t.jsx)("div",{className:"absolute left-1/2 top-1/4 -translate-x-1/2 h-[300px] w-[400px] md:h-[400px] md:w-[600px] rounded-full bg-[#b90505]/8 blur-3xl"})}),(0,t.jsx)("div",{className:"relative z-10 container mx-auto max-w-7xl py-4 sm:py-6 lg:py-10 px-4 sm:px-6 lg:px-8 pt-12 sm:pt-16 lg:pt-20",children:(0,t.jsxs)(p.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-6 sm:space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 sm:mb-6 lg:mb-8",children:[(0,t.jsxs)("div",{className:"text-center sm:text-left",children:[(0,t.jsxs)(r.Badge,{variant:"outline",className:"border-[#b90505]/60 text-[#bd2727] bg-[#b90505]/10 px-3 py-1 sm:px-4 text-xs sm:text-sm font-semibold tracking-wide backdrop-blur flex gap-2",children:[(0,t.jsx)(u.Crown,{className:"h-3 w-3 sm:h-4 sm:w-4 text-[#bd2727] drop-shadow-[0_0_5px_#bd2727]"}),(0,t.jsx)("span",{className:"truncate max-w-[120px] sm:max-w-none",children:n?.username||"Admin"})]}),(0,t.jsx)("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white mt-2 mb-1 sm:mb-2",children:"Admin Panel"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm lg:text-base text-gray-400",children:"Správa Retrovax FiveM serveru"})]}),(0,t.jsxs)(i.Button,{onClick:m,variant:"outline",size:"sm",className:"border-red-500/30 text-red-400 hover:bg-red-500/10 hover:border-red-500/50 transition-colors w-full sm:w-auto text-xs sm:text-sm",children:[(0,t.jsx)(h.LogOut,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Odhlásit se"]})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6 lg:gap-8",children:[(0,t.jsx)(p.motion.aside,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2,ease:"easeOut"},className:"w-full lg:w-64 flex-shrink-0",children:(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 rounded-2xl backdrop-blur-md p-3 sm:p-4 lg:p-6",children:(0,t.jsx)(l.SidebarNav,{items:b})})}),(0,t.jsx)(p.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3,ease:"easeOut"},className:"flex-1 w-full",children:e})]})]})})]})}e.s(["default",()=>f])}]);