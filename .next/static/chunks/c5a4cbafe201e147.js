(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(18050),a=e.i(47163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>l,"CardHeader",()=>r,"CardTitle",()=>i])},21218,e=>{"use strict";let t=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},43553,e=>{"use strict";let t=(0,e.i(75254).default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);e.s(["Crown",()=>t],43553)},83627,e=>{"use strict";let t=(0,e.i(75254).default)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);e.s(["Edit3",()=>t],83627)},17923,e=>{"use strict";let t=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>t],17923)},25959,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(20783),r=e.i(30030),i=e.i(81140),l=e.i(69340),n=e.i(99682),o=e.i(35804),d=e.i(96626),c=e.i(48425),h="Checkbox",[x,m]=(0,r.createContextScope)(h),[p,u]=x(h);function g(e){let{__scopeCheckbox:s,checked:r,children:i,defaultChecked:n,disabled:o,form:d,name:c,onCheckedChange:x,required:m,value:u="on",internal_do_not_use_render:g}=e,[b,j]=(0,l.useControllableState)({prop:r,defaultProp:n??!1,onChange:x,caller:h}),[v,w]=a.useState(null),[f,y]=a.useState(null),N=a.useRef(!1),k=!v||!!d||!!v.closest("form"),S={checked:b,disabled:o,setChecked:j,control:v,setControl:w,name:c,form:d,value:u,hasConsumerStoppedPropagationRef:N,required:m,defaultChecked:!C(n)&&n,isFormControl:k,bubbleInput:f,setBubbleInput:y};return(0,t.jsx)(p,{scope:s,...S,children:"function"==typeof g?g(S):i})}var b="CheckboxTrigger",j=a.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:l,...n},o)=>{let{control:d,value:h,disabled:x,checked:m,required:p,setControl:g,setChecked:j,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:f}=u(b,e),y=(0,s.useComposedRefs)(o,g),N=a.useRef(m);return a.useEffect(()=>{let e=d?.form;if(e){let t=()=>j(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,j]),(0,t.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":C(m)?"mixed":m,"aria-required":p,"data-state":k(m),"data-disabled":x?"":void 0,disabled:x,value:h,...n,ref:y,onKeyDown:(0,i.composeEventHandlers)(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.composeEventHandlers)(l,e=>{j(e=>!!C(e)||!e),f&&w&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});j.displayName=b;var v=a.forwardRef((e,a)=>{let{__scopeCheckbox:s,name:r,checked:i,defaultChecked:l,required:n,disabled:o,value:d,onCheckedChange:c,form:h,...x}=e;return(0,t.jsx)(g,{__scopeCheckbox:s,checked:i,defaultChecked:l,disabled:o,required:n,onCheckedChange:c,name:r,form:h,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{...x,ref:a,__scopeCheckbox:s}),e&&(0,t.jsx)(N,{__scopeCheckbox:s})]})})});v.displayName=h;var w="CheckboxIndicator",f=a.forwardRef((e,a)=>{let{__scopeCheckbox:s,forceMount:r,...i}=e,l=u(w,s);return(0,t.jsx)(d.Presence,{present:r||C(l.checked)||!0===l.checked,children:(0,t.jsx)(c.Primitive.span,{"data-state":k(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:a,style:{pointerEvents:"none",...e.style}})})});f.displayName=w;var y="CheckboxBubbleInput",N=a.forwardRef(({__scopeCheckbox:e,...r},i)=>{let{control:l,hasConsumerStoppedPropagationRef:d,checked:h,defaultChecked:x,required:m,disabled:p,name:g,value:b,form:j,bubbleInput:v,setBubbleInput:w}=u(y,e),f=(0,s.useComposedRefs)(i,w),N=(0,n.usePrevious)(h),k=(0,o.useSize)(l);a.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(N!==h&&e){let a=new Event("click",{bubbles:t});v.indeterminate=C(h),e.call(v,!C(h)&&h),v.dispatchEvent(a)}},[v,N,h,d]);let S=a.useRef(!C(h)&&h);return(0,t.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:x??S.current,required:m,disabled:p,name:g,value:b,form:j,...r,tabIndex:-1,ref:f,style:{...r.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function k(e){return C(e)?"indeterminate":e?"checked":"unchecked"}N.displayName=y;var S=e.i(78784),D=e.i(47163);function T({className:e,...a}){return(0,t.jsx)(v,{"data-slot":"checkbox",className:(0,D.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(f,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,t.jsx)(S.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>T],25959)},3143,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(47627),r=e.i(23750),i=e.i(67881),l=e.i(72731),n=e.i(70065),o=e.i(94179),d=e.i(71428),c=e.i(46932),h=e.i(73921),x=e.i(237),m=e.i(1725),p=e.i(44098),u=e.i(85183),g=e.i(93230),b=e.i(52990),j=e.i(82830),v=e.i(63415),w=e.i(41071),f=e.i(61911),y=e.i(74886),N=e.i(83627),C=e.i(21218),k=e.i(84614),S=e.i(43553),D=e.i(87316),T=e.i(17923),z=e.i(25959),I=e.i(30009),_=e.i(46696),M=e.i(62870),P=e.i(28231);let R=(e,t,a)=>{let{firstname:s,lastname:r}=e.original;return(s+" "+r).toLowerCase().includes(String(a).toLowerCase())};function A(){let[e,A]=(0,a.useState)([]),[H,L]=(0,a.useState)(""),[E,$]=(0,a.useState)([]),[O,F]=(0,a.useState)([]),[V,K]=(0,a.useState)(null),[B,Z]=(0,a.useState)({}),[U,J]=(0,a.useState)(null),[G,X]=(0,a.useState)(""),[q,W]=(0,a.useState)(""),[Y,Q]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(!0),ea=(0,a.useRef)(null),[es,er]=(0,a.useState)("firstname"),ei=async()=>new Promise(async(e,t)=>{try{let a=await fetch("/api/database-characters",{cache:"no-store"}),s=await a.json();s.error?(_.toast.error("Chyba při načítání postav"),K(s.error),A([]),t(Error(s.error))):Array.isArray(s)?(_.toast.success(`Načteno ${s.length} postav z datab\xe1ze`),A(s),K(null),e()):(_.toast.error("Neznámá odpověď ze serveru"),A([]),K("Neznámá odpověď ze serveru."),t(Error("Neznámá odpověď ze serveru")))}catch(e){console.error("[DB Characters] Chyba při načítání:",e),_.toast.error("Nastala chyba při načítání databáze"),A([]),K("Chyba při načítání dat ze serveru."),t(e)}});(0,a.useEffect)(()=>{(async()=>{try{et(!0),_.toast.loading("Načítám databázi postav..."),await ei(),_.toast.dismiss()}catch(e){_.toast.dismiss()}finally{et(!1)}})()},[]);let el=async(e,t)=>{try{await navigator.clipboard.writeText(e),_.toast.success(`${t} zkop\xedrov\xe1no!`,{description:e,duration:2e3})}catch{_.toast.error("Nepodařilo se zkopírovat")}},en=[{id:"select",header:({table:e})=>(0,t.jsx)(z.Checkbox,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:t=>e.toggleAllPageRowsSelected(!!t)}),cell:({row:e})=>(0,t.jsx)(z.Checkbox,{checked:e.getIsSelected(),onCheckedChange:t=>e.toggleSelected(!!t)}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:"ID",cell:({row:e})=>(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"font-mono text-[#bd2727] font-semibold",children:["#",e.getValue("id")]})})},{accessorKey:"firstname",header:"Jméno",cell:({row:e})=>{let a=`${e.original.firstname} ${e.original.lastname}`,s=a.length>10?`${a.slice(0,10)}...`:a;return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.User,{className:"h-4 w-4 text-gray-400"}),a.length>10?(0,t.jsx)(P.TooltipProvider,{children:(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"text-white font-medium cursor-help",children:s})}),(0,t.jsx)(P.TooltipContent,{children:(0,t.jsx)("span",{className:"text-xs",children:a})})]})}):(0,t.jsx)("span",{className:"text-white font-medium",children:a})]})},filterFn:R},{accessorKey:"name",header:"Steam jméno",filterFn:"includesString",cell:({row:e})=>{let a=e.getValue("name")||"",s=a.length>7?`${a.slice(0,7)}...`:a;return a.length>7?(0,t.jsx)(P.TooltipProvider,{children:(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"text-gray-300 cursor-help",children:s})}),(0,t.jsx)(P.TooltipContent,{children:(0,t.jsx)("span",{className:"text-xs",children:a})})]})}):(0,t.jsx)("span",{className:"text-gray-300",children:a})}},{accessorKey:"identifier",header:"Identifikátor",filterFn:"includesString",cell:({row:e})=>{let a=e.getValue("identifier")||"",s=a.length>16?`${a.slice(0,6)}...${a.slice(-3)}`:a;return(0,t.jsx)(P.TooltipProvider,{children:(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"font-mono text-xs cursor-help text-gray-400",children:s})}),(0,t.jsx)(P.TooltipContent,{children:(0,t.jsx)("span",{className:"font-mono text-xs",children:a})})]})})}},{accessorKey:"steam_id",header:"Steam ID",filterFn:"includesString",cell:({row:e})=>{let a=e.getValue("steam_id")||"",s=a.length>16?`${a.slice(0,6)}...${a.slice(-3)}`:a;return(0,t.jsx)(P.TooltipProvider,{children:(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"font-mono text-xs cursor-help text-gray-400",children:s})}),(0,t.jsx)(P.TooltipContent,{children:(0,t.jsx)("span",{className:"font-mono text-xs",children:a})})]})})}},{accessorKey:"discord_id",header:"Discord ID",filterFn:"includesString",cell:({row:e})=>{let a=e.getValue("discord_id")||"",s=a.length>16?`${a.slice(0,6)}...${a.slice(-3)}`:a;return(0,t.jsx)(P.TooltipProvider,{children:(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"font-mono text-xs cursor-help text-gray-400",children:s})}),(0,t.jsx)(P.TooltipContent,{children:(0,t.jsx)("span",{className:"font-mono text-xs",children:a})})]})})}},{accessorKey:"created_at",header:"Vytvořeno",cell:({row:e})=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(D.Calendar,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:new Date(e.original.created_at).toLocaleDateString("cs-CZ",{day:"2-digit",month:"2-digit"})})]})},{accessorKey:"last_seen",header:"Naposledy",cell:({row:e})=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.Activity,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-300 text-sm",children:new Date(e.original.last_seen).toLocaleDateString("cs-CZ",{day:"2-digit",month:"2-digit"})})]})},{id:"actions",header:()=>(0,t.jsx)("div",{className:"text-right pr-4",children:"Akce"}),cell:({row:e})=>{let a=e.original;return(0,t.jsx)("div",{className:"flex justify-end pr-2",children:(0,t.jsxs)(v.DropdownMenu,{children:[(0,t.jsx)(v.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(i.Button,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-white/10",children:(0,t.jsx)(w.MoreHorizontal,{className:"h-4 w-4"})})}),(0,t.jsxs)(v.DropdownMenuContent,{align:"end",className:"bg-[#131618] border-white/10",children:[(0,t.jsx)(v.DropdownMenuLabel,{className:"text-white",children:"Akce"}),(0,t.jsxs)(v.DropdownMenuItem,{onClick:()=>el(String(a.id),"ID"),className:"text-gray-300 hover:text-white hover:bg-white/10",children:[(0,t.jsx)(y.Copy,{className:"h-4 w-4 mr-2"}),"Zkopírovat ID"]}),(0,t.jsxs)(v.DropdownMenuItem,{onClick:()=>el(`${a.firstname} ${a.lastname}`,"Jméno"),className:"text-gray-300 hover:text-white hover:bg-white/10",children:[(0,t.jsx)(y.Copy,{className:"h-4 w-4 mr-2"}),"Zkopírovat jméno"]}),(0,t.jsxs)(v.DropdownMenuItem,{onClick:()=>el(a.name||"","Steam jméno"),className:"text-gray-300 hover:text-white hover:bg-white/10",children:[(0,t.jsx)(y.Copy,{className:"h-4 w-4 mr-2"}),"Zkopírovat Steam jméno"]}),(0,t.jsxs)(v.DropdownMenuItem,{onClick:()=>el(a.identifier||"","Identifikátor"),className:"text-gray-300 hover:text-white hover:bg-white/10",children:[(0,t.jsx)(y.Copy,{className:"h-4 w-4 mr-2"}),"Zkopírovat identifikátor"]}),(0,t.jsxs)(v.DropdownMenuItem,{onClick:()=>el(a.steam_id||"","Steam ID"),className:"text-gray-300 hover:text-white hover:bg-white/10",children:[(0,t.jsx)(y.Copy,{className:"h-4 w-4 mr-2"}),"Zkopírovat Steam ID"]}),(0,t.jsxs)(v.DropdownMenuItem,{onClick:()=>el(a.discord_id||"","Discord ID"),className:"text-gray-300 hover:text-white hover:bg-white/10",children:[(0,t.jsx)(y.Copy,{className:"h-4 w-4 mr-2"}),"Zkopírovat Discord ID"]}),(0,t.jsx)(v.DropdownMenuSeparator,{className:"bg-white/10"}),(0,t.jsxs)(v.DropdownMenuItem,{onClick:()=>{J(a),X(a.firstname),W(a.lastname),setTimeout(()=>ea.current?.focus(),100)},className:"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10",children:[(0,t.jsx)(N.Edit3,{className:"h-4 w-4 mr-2"}),"Upravit jméno"]})]})]})})}}],eo=Array.from({length:30},(e,t)=>{let a=new Date;return a.setDate(a.getDate()-(29-t)),a.toISOString().split("T")[0]}).map(t=>{let a=e.filter(e=>new Date(e.created_at).toISOString().split("T")[0]===t);return{date:new Date(t).toLocaleDateString("cs-CZ",{day:"2-digit",month:"2-digit"}),postavy:a.length}}),ed=(0,b.useReactTable)({data:e,columns:en,state:{sorting:E,columnFilters:O,rowSelection:B},onSortingChange:$,onColumnFiltersChange:F,onRowSelectionChange:Z,getCoreRowModel:(0,j.getCoreRowModel)(),getFilteredRowModel:(0,j.getFilteredRowModel)(),getPaginationRowModel:(0,j.getPaginationRowModel)()});return ee?(0,t.jsxs)("div",{className:"relative min-h-screen bg-[#0a0a0a]",children:[(0,t.jsx)("div",{className:"pointer-events-none absolute left-1/2 top-1/4 z-0 -translate-x-1/2",children:(0,t.jsx)("div",{className:"h-[400px] w-[600px] rounded-full bg-[#b90505]/8 blur-3xl"})}),(0,t.jsxs)("div",{className:"relative z-10 space-y-6 px-4 md:px-0",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(d.Skeleton,{className:"h-8 w-48 bg-white/5"}),(0,t.jsx)(d.Skeleton,{className:"h-4 w-96 bg-white/5"})]}),(0,t.jsx)("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)(n.Card,{className:"bg-white/5 border border-white/10 rounded-2xl",children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(d.Skeleton,{className:"h-6 w-1/2 bg-white/10"})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)(d.Skeleton,{className:"h-8 w-full bg-white/10"})})]},a))})]})]}):(0,t.jsxs)("div",{className:"relative min-h-screen bg-[#0a0a0a]",children:[(0,t.jsxs)("div",{className:"pointer-events-none absolute inset-0 z-0 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute left-1/2 top-1/4 -translate-x-1/2 h-[400px] w-[800px] rounded-full bg-[#b90505]/8 blur-3xl"}),(0,t.jsx)("div",{className:"absolute right-1/3 bottom-1/3 h-[300px] w-[500px] rounded-full bg-[#b90505]/5 blur-3xl"})]}),(0,t.jsxs)("div",{className:"relative z-10 max-w-6xl mx-auto px-4 md:px-0",children:[(0,t.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(o.Badge,{variant:"outline",className:"border-[#b90505]/60 text-[#bd2727] bg-[#b90505]/10 px-4 py-1 font-semibold tracking-wide backdrop-blur flex gap-2 w-fit mb-4",children:[(0,t.jsx)(f.Users,{className:"h-4 w-4 text-[#bd2727] drop-shadow-[0_0_5px_#bd2727]"}),"Databáze postav"]}),(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold text-white drop-shadow",children:"Správa postav"}),(0,t.jsx)("p",{className:"text-lg text-gray-400 max-w-2xl",children:"Přehled všech postav v databázi serveru s možností úprav a filtrování"})]}),(0,t.jsx)(l.Button,{onClick:ei,className:"border-[#b90505]/30 text-[#bd2727] hover:bg-[#b90505]/10 bg-transparent",children:"Obnovit"})]})}),(0,t.jsxs)(c.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1,ease:"easeOut"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,t.jsxs)(n.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md",children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row items-center gap-3 pb-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-[#b90505]/20 text-[#bd2727]",children:(0,t.jsx)(f.Users,{className:"h-5 w-5 drop-shadow-[0_0_5px_currentColor]"})}),(0,t.jsx)(n.CardTitle,{className:"text-white text-sm",children:"Celkem postav"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("p",{className:"text-3xl font-bold text-[#bd2727]",children:e.length})})]}),(0,t.jsxs)(n.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md",children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row items-center gap-3 pb-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/20 text-blue-400",children:(0,t.jsx)(k.User,{className:"h-5 w-5 drop-shadow-[0_0_5px_currentColor]"})}),(0,t.jsx)(n.CardTitle,{className:"text-white text-sm",children:"Jedinečných hráčů"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("p",{className:"text-3xl font-bold text-blue-400",children:new Set(e.map(e=>e.steam_id)).size})})]}),(0,t.jsxs)(n.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md",children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row items-center gap-3 pb-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-yellow-500/20 text-yellow-400",children:(0,t.jsx)(S.Crown,{className:"h-5 w-5 drop-shadow-[0_0_5px_currentColor]"})}),(0,t.jsx)(n.CardTitle,{className:"text-white text-sm",children:"Různých jobů"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("p",{className:"text-3xl font-bold text-yellow-400",children:new Set(e.map(e=>e.job)).size})})]}),(0,t.jsxs)(n.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md",children:[(0,t.jsxs)(n.CardHeader,{className:"flex flex-row items-center gap-3 pb-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-green-500/20 text-green-400",children:(0,t.jsx)(C.Activity,{className:"h-5 w-5 drop-shadow-[0_0_5px_currentColor]"})}),(0,t.jsx)(n.CardTitle,{className:"text-white text-sm",children:"Aktivní dnes"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("p",{className:"text-3xl font-bold text-green-400",children:e.filter(e=>{let t=new Date(e.last_seen),a=new Date;return t.toDateString()===a.toDateString()}).length})})]})]}),(0,t.jsx)(c.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2,ease:"easeOut"},className:"mb-6",children:(0,t.jsxs)(n.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)(n.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(T.BarChart3,{className:"w-5 h-5 text-[#bd2727]"}),"Statistiky vytvoření postav za posledních 30 dní"]}),(0,t.jsx)(n.CardDescription,{className:"text-gray-400",children:"Přehled počtu nově vytvořených postav za každý den"})]}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)(h.ChartContainer,{config:{postavy:{label:"Vytvořené postavy",color:"#bd2727"}},className:"h-[400px] w-full",children:(0,t.jsx)(p.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(m.AreaChart,{data:eo,margin:{top:5,right:30,left:20,bottom:5},children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"fillPostavy",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"#bd2727",stopOpacity:.8}),(0,t.jsx)("stop",{offset:"95%",stopColor:"#bd2727",stopOpacity:.1})]})}),(0,t.jsx)(u.XAxis,{dataKey:"date",tick:{fill:"#9ca3af",fontSize:12},tickLine:{stroke:"#374151"},axisLine:{stroke:"#374151"}}),(0,t.jsx)(g.YAxis,{tick:{fill:"#9ca3af",fontSize:12},tickLine:{stroke:"#374151"},axisLine:{stroke:"#374151"}}),(0,t.jsx)(h.ChartTooltip,{content:({active:e,payload:a,label:s})=>e&&a&&a.length?(0,t.jsxs)("div",{className:"rounded-lg border bg-background p-3 shadow-md backdrop-blur-sm",style:{backgroundColor:"rgba(19, 22, 24, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#ffffff"},children:[(0,t.jsx)("div",{className:"font-semibold text-white mb-2",children:s}),a.map((e,a)=>{let s;return(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:e.color}}),(0,t.jsxs)("span",{className:"text-sm text-gray-300",children:[e.name,": ",(0,t.jsx)("span",{className:"font-medium text-white",children:e.value}),1===(s=Number(e.value))?" postava":s>=2&&s<=4?" postavy":" postav"]})]},a)})]}):null}),(0,t.jsx)(h.ChartLegend,{content:({payload:e})=>(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-6 pt-4",children:e?.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 rounded-full shadow-sm",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-gray-300 font-medium text-sm",children:e.value})]},a))})}),(0,t.jsx)(x.Area,{type:"monotone",dataKey:"postavy",stroke:"#bd2727",fill:"url(#fillPostavy)",fillOpacity:.3,strokeWidth:3,dot:!1,activeDot:!1,name:"Vytvořené postavy"})]})})})})]})}),(0,t.jsx)(c.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.3,ease:"easeOut"},children:(0,t.jsxs)(n.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 shadow-xl rounded-2xl backdrop-blur-md",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsxs)(n.CardTitle,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(f.Users,{className:"w-5 h-5 text-[#bd2727]"}),"Seznam postav"]}),(0,t.jsx)(n.CardDescription,{className:"text-gray-400",children:"Kompletní databáze všech postav na serveru"})]}),(0,t.jsxs)(n.CardContent,{children:[(0,t.jsxs)("div",{className:"flex items-center py-4 gap-4 flex-wrap",children:[(0,t.jsxs)(M.Select,{value:es,onValueChange:e=>er(e),children:[(0,t.jsx)(M.SelectTrigger,{className:"w-40 min-w-[120px] bg-white/5 border-white/10 text-white",children:(0,t.jsx)(M.SelectValue,{})}),(0,t.jsxs)(M.SelectContent,{className:"bg-[#131618] border-white/10",children:[(0,t.jsx)(M.SelectItem,{value:"firstname",className:"text-white hover:bg-white/10",children:"Jméno"}),(0,t.jsx)(M.SelectItem,{value:"name",className:"text-white hover:bg-white/10",children:"Steam jméno"}),(0,t.jsx)(M.SelectItem,{value:"identifier",className:"text-white hover:bg-white/10",children:"Identifikátor"}),(0,t.jsx)(M.SelectItem,{value:"steam_id",className:"text-white hover:bg-white/10",children:"Steam ID"}),(0,t.jsx)(M.SelectItem,{value:"discord_id",className:"text-white hover:bg-white/10",children:"Discord ID"})]})]}),(0,t.jsx)(r.Input,{placeholder:`Filtrovat podle ${"firstname"===es?"jména":"name"===es?"Steam jména":"steam_id"===es?"Steam ID":"discord_id"===es?"Discord ID":"identifikátoru"}...`,value:H,onChange:e=>{L(e.target.value),ed.getColumn(es)?.setFilterValue(e.target.value)},onBlur:()=>{H||ed.getColumn(es)?.setFilterValue("")},className:"max-w-sm bg-white/5 border-white/10 text-white"})]}),(0,t.jsx)("div",{className:"min-w-[350px] sm:min-w-full rounded-md border border-white/10 overflow-x-auto",children:V?(0,t.jsx)("div",{className:"p-6 text-center text-red-400",children:V}):(0,t.jsxs)(s.Table,{className:"table-auto w-full text-sm",children:[(0,t.jsx)(s.TableHeader,{children:ed.getHeaderGroups().map(e=>(0,t.jsx)(s.TableRow,{className:"border-white/10 hover:bg-white/5",children:e.headers.map(e=>(0,t.jsx)(s.TableHead,{className:"whitespace-nowrap px-2 py-3 text-xs sm:text-sm text-gray-300",children:e.isPlaceholder?null:(0,b.flexRender)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,t.jsx)(s.TableBody,{children:ed.getRowModel().rows.length?ed.getRowModel().rows.map(e=>(0,t.jsx)(s.TableRow,{className:"border-white/10 hover:bg-white/5",children:e.getVisibleCells().map(e=>(0,t.jsx)(s.TableCell,{className:"whitespace-nowrap px-2 py-2 text-xs sm:text-sm",children:(0,b.flexRender)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,t.jsx)(s.TableRow,{children:(0,t.jsx)(s.TableCell,{colSpan:en.length,className:"text-center text-gray-400 py-8",children:"Žádná data k zobrazení."})})})]})}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:[ed.getFilteredSelectedRowModel().rows.length," z ",ed.getFilteredRowModel().rows.length," vybráno."]}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>ed.previousPage(),disabled:!ed.getCanPreviousPage(),className:"border-white/10 text-white hover:bg-white/10",children:"Předchozí"}),(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>ed.nextPage(),disabled:!ed.getCanNextPage(),className:"border-white/10 text-white hover:bg-white/10",children:"Další"})]})]})]})]})})]}),(0,t.jsx)(I.AlertDialog,{open:!!U,onOpenChange:e=>!e&&J(null),children:(0,t.jsxs)(I.AlertDialogContent,{className:"bg-[#131618] border-white/10",children:[(0,t.jsxs)(I.AlertDialogHeader,{children:[(0,t.jsx)(I.AlertDialogTitle,{className:"text-white",children:"Upravit jméno postavy"}),(0,t.jsx)(I.AlertDialogDescription,{className:"text-gray-400",children:"Změňte jméno a příjmení postavy. Změna je okamžitá."})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",children:"Jméno"}),(0,t.jsx)(r.Input,{ref:ea,value:G,onChange:e=>X(e.target.value),disabled:Y,className:"bg-white/5 border-white/10 text-white"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",children:"Příjmení"}),(0,t.jsx)(r.Input,{value:q,onChange:e=>W(e.target.value),disabled:Y,className:"bg-white/5 border-white/10 text-white"})]})]}),(0,t.jsxs)(I.AlertDialogFooter,{children:[(0,t.jsx)(I.AlertDialogCancel,{disabled:Y,onClick:()=>J(null),className:"bg-gray-600 hover:bg-gray-700 text-white",children:"Zrušit"}),(0,t.jsx)(I.AlertDialogAction,{disabled:Y||!G.trim()||!q.trim(),onClick:async()=>{if(U){Q(!0);try{let e=await fetch(`/api/database-characters/${U.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:G,lastname:q})}),t=await e.json();if(!e.ok)return void _.toast.error(t.error+(t.detail?`
${t.detail}`:""));A(e=>e.map(e=>e.id===U.id?{...e,firstname:G,lastname:q}:e)),J(null),_.toast.success("Jméno bylo úspěšně změněno")}catch{_.toast.error("Chyba při komunikaci se serverem")}finally{Q(!1)}}},className:"bg-[#b90505] hover:bg-[#bd2727] text-white",children:Y?"Ukládání...":"Uložit"})]})]})})]})}e.s(["default",()=>A])}]);