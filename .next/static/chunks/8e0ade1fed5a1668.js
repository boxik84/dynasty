(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94179,e=>{"use strict";var s=e.i(78042),t=e.i(20644),a=e.i(94237),i=e.i(47163);let r=(0,a.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,asChild:l=!1,...n}){let o=l?t.Slot:"span";return(0,s.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(r({variant:a}),e),...n})}e.s(["Badge",()=>l])},71428,e=>{"use strict";var s=e.i(78042),t=e.i(47163);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"skeleton",className:(0,t.cn)("bg-accent animate-pulse rounded-md",e),...a})}e.s(["Skeleton",()=>a])},53663,e=>{"use strict";let s=(0,e.i(98905).default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>s],53663)},34055,e=>{"use strict";let s=(0,e.i(98905).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);e.s(["Database",()=>s],34055)},48447,e=>{"use strict";let s=(0,e.i(98905).default)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);e.s(["Car",()=>s],48447)},10192,e=>{"use strict";let s=(0,e.i(98905).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);e.s(["Home",()=>s],10192)},9813,e=>{"use strict";let s=(0,e.i(98905).default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["UserCheck",()=>s],9813)},57654,e=>{"use strict";var s=e.i(78042),t=e.i(27112),a=e.i(45227),i=e.i(47163),r=e.i(67832);function l({className:e,items:l,userRoles:n=[],...o}){let d=(0,a.usePathname)();return(0,s.jsxs)("nav",{className:(0,i.cn)("flex flex-col gap-2",e),...o,children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3",children:"Navigace"})}),(0,s.jsx)(r.MotionHighlight,{hover:!0,controlledItems:!0,transition:{type:"spring",stiffness:350,damping:35},className:"rounded-xl",children:l.map(e=>{let a=d===e.href,l=e.icon;return(0,s.jsx)(r.MotionHighlightItem,{activeClassName:"bg-[#b90505]/20 border-[#b90505]/40",value:e.href,children:(0,s.jsxs)(t.default,{href:e.href,className:(0,i.cn)("group relative flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 border",a?"text-[#b90505] bg-[#b90505]/20 border-[#b90505]/40 shadow-lg shadow-[#b90505]/10":"text-gray-300 hover:text-white bg-transparent border-transparent"),"data-value":e.href,tabIndex:0,children:[l&&(0,s.jsx)(l,{className:(0,i.cn)("w-5 h-5 transition-all duration-200",a?"text-[#b90505] drop-shadow-[0_0_5px_#b90505]":"text-gray-400 group-hover:text-gray-300")}),(0,s.jsx)("span",{className:"flex-1",children:e.title}),a&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#b90505] shadow-[0_0_8px_#b90505]"})]})},e.href)})})]})}e.s(["SidebarNav",()=>l])},82391,e=>{"use strict";var s=e.i(78042),t=e.i(45456),a=e.i(45227),i=e.i(57654),r=e.i(71428),l=e.i(94179),n=e.i(10192),o=e.i(88915),d=e.i(6563),c=e.i(48447),h=e.i(34055),m=e.i(21781),x=e.i(9813),u=e.i(53663),p=e.i(93166),f=e.i(72136),b=e.i(67881),g=e.i(95403);let v=[{title:"Přehled",href:"/dashboard",icon:n.Home},{title:"Moje Whitelist",href:"/dashboard/my-whitelist",icon:u.FileText},{title:"Postavy",href:"/dashboard/characters",icon:d.Users},{title:"Vozidla",href:"/dashboard/vehicles",icon:c.Car,requiresVedeniOrStaff:!0},{title:"Databáze postav",href:"/dashboard/database-characters",icon:h.Database,requiresVedeniOrStaff:!0},{title:"Whitelist",href:"/dashboard/whitelist",icon:x.UserCheck,requiresWhitelistPermissions:!0}];function y({children:e}){let n=(0,a.useRouter)(),[d,c]=(0,t.useState)(!0),[h,x]=(0,t.useState)(null),u=async()=>{await f.authClient.signOut(),window.location.href="/"};if((0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/user/me",{cache:"no-store"}),s=await e.json();s?.discordId?x(s):(g.toast.error("Nepodařilo se načíst uživatelská data"),n.push("/sign-in"))}catch(e){console.error("Chyba při načítání uživatele:",e),g.toast.error("Nastala chyba při načítání profilu"),n.push("/sign-in")}finally{c(!1)}})()},[n]),d)return(0,s.jsxs)("div",{className:"relative min-h-screen bg-[#0a0a0a]",children:[(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 z-0 overflow-hidden",children:(0,s.jsx)("div",{className:"absolute left-1/2 top-1/4 -translate-x-1/2 h-[300px] w-[400px] md:h-[400px] md:w-[600px] rounded-full bg-[#b90505]/8 blur-3xl"})}),(0,s.jsxs)("div",{className:"relative z-10 container mx-auto max-w-7xl py-4 sm:py-6 lg:py-10 px-4 sm:px-6 lg:px-8",children:[(0,s.jsx)(r.Skeleton,{className:"h-6 w-32 sm:h-8 sm:w-48 mb-6 sm:mb-8 bg-white/5"}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6 lg:gap-8",children:[(0,s.jsx)(r.Skeleton,{className:"w-full lg:w-64 h-64 sm:h-80 lg:h-96 bg-white/5 rounded-2xl"}),(0,s.jsx)(r.Skeleton,{className:"w-full lg:flex-1 h-64 sm:h-80 lg:h-96 bg-white/5 rounded-2xl"})]})]})]});if(!h)return null;let y=h&&h.permissions?h.permissions.isBlacklisted?"blacklisted":h.permissions.hasWaitingRole?"waiting":h.hasWhitelist?"whitelisted":"no_access":"loading",w="blacklisted"===y||"waiting"===y?v.filter(e=>"/dashboard"===e.href):v.filter(e=>{if(!h.permissions)return!0;if(e.requiresVedeniOrStaff&&(console.log("Dashboard nav item (Vedení/Staff) check:",{item:e.title,hasVedeniOrStaffPermissions:h.permissions.hasVedeniOrStaffPermissions}),!h.permissions.hasVedeniOrStaffPermissions))return!1;if(e.requiresWhitelistPermissions){let s=h.permissions.hasWhitelistAdderPermissions||h.permissions.hasVedeniOrStaffPermissions;if(console.log("Dashboard layout whitelist check:",{hasWhitelistAdderPermissions:h.permissions.hasWhitelistAdderPermissions,hasVedeniOrStaffPermissions:h.permissions.hasVedeniOrStaffPermissions,hasWhitelistAccess:s,item:e.title}),!s)return!1}return!0});return(0,s.jsx)("div",{className:"relative min-h-screen bg-[#0a0a0a]",children:(0,s.jsx)("div",{className:"relative z-10 container mx-auto max-w-7xl py-4 sm:py-6 lg:py-10 px-4 sm:px-6 lg:px-8 pt-12 sm:pt-16 lg:pt-20",children:(0,s.jsxs)(p.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"space-y-6 sm:space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 sm:mb-6 lg:mb-8",children:[(0,s.jsxs)("div",{className:"text-center sm:text-left",children:[(0,s.jsxs)(l.Badge,{variant:"outline",className:"border-[#b90505]/60 text-[#bd2727] bg-[#b90505]/10 px-3 py-1 sm:px-4 text-xs sm:text-sm font-semibold tracking-wide backdrop-blur flex gap-2",children:[(0,s.jsx)(o.User,{className:"h-3 w-3 sm:h-4 sm:w-4 text-[#bd2727] drop-shadow-[0_0_5px_#bd2727]"}),(0,s.jsx)("span",{className:"truncate max-w-[120px] sm:max-w-none",children:h.username})]}),(0,s.jsx)("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-white mt-2 mb-1 sm:mb-2",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm lg:text-base text-gray-400",children:"Spravuj svůj účet a přístup k serveru"})]}),(0,s.jsxs)(b.Button,{onClick:u,variant:"outline",size:"sm",className:"border-red-500/30 text-red-400 hover:bg-red-500/10 hover:border-red-500/50 transition-colors w-full sm:w-auto text-xs sm:text-sm",children:[(0,s.jsx)(m.LogOut,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Odhlásit se"]})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6 lg:gap-8",children:[(0,s.jsx)(p.motion.aside,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2,ease:"easeOut"},className:"w-full lg:w-64 flex-shrink-0",children:(0,s.jsx)("div",{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 rounded-2xl backdrop-blur-md p-3 sm:p-4 lg:p-6",children:(0,s.jsx)(i.SidebarNav,{items:w,userRoles:h.roles})})}),(0,s.jsx)(p.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3,ease:"easeOut"},className:"flex-1 w-full",children:e})]})]})})})}e.s(["default",()=>y])}]);