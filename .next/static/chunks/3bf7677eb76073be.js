(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84986,e=>{"use strict";let t=(0,e.i(98905).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],84986)},88109,e=>{"use strict";let t=(0,e.i(98905).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],88109)},84762,e=>{"use strict";var t=e.i(78042),r=e.i(47163);function i({className:e,...i}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...i})}e.s(["Textarea",()=>i])},10708,e=>{"use strict";var t=e.i(78042),r=e.i(45456),i=e.i(56038),o=r.forwardRef((e,r)=>(0,t.jsx)(i.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var n=e.i(47163);function a({className:e,...r}){return(0,t.jsx)(o,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>a],10708)},15278,e=>{"use strict";let t=(0,e.i(98905).default)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],15278)},8270,e=>{"use strict";var t=e.i(3012);e.s(["XIcon",()=>t.default])},97835,e=>{"use strict";var t=e.i(45456),r=e.i(91967),i=e.i(20264),o=e.i(94067),n=e.i(25541),a=e.i(52163),l=e.i(24450),s=e.i(60971),d=e.i(55892),c=e.i(29417),u=e.i(50670),p=e.i(84765),h=e.i(29059),f=e.i(73772),m=e.i(1890),x=e.i(78042),v="Dialog",[g,b]=(0,o.createContextScope)(v),[y,j]=g(v),w=e=>{let{__scopeDialog:r,children:i,open:o,defaultOpen:l,onOpenChange:s,modal:d=!0}=e,c=t.useRef(null),u=t.useRef(null),[p,h]=(0,a.useControllableState)({prop:o,defaultProp:l??!1,onChange:s,caller:v});return(0,x.jsx)(y,{scope:r,triggerRef:c,contentRef:u,contentId:(0,n.useId)(),titleId:(0,n.useId)(),descriptionId:(0,n.useId)(),open:p,onOpenChange:h,onOpenToggle:t.useCallback(()=>h(e=>!e),[h]),modal:d,children:i})};w.displayName=v;var k="DialogTrigger",C=t.forwardRef((e,t)=>{let{__scopeDialog:o,...n}=e,a=j(k,o),l=(0,i.useComposedRefs)(t,a.triggerRef);return(0,x.jsx)(u.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":W(a.open),...n,ref:l,onClick:(0,r.composeEventHandlers)(e.onClick,a.onOpenToggle)})});C.displayName=k;var S="DialogPortal",[N,z]=g(S,{forceMount:void 0}),_=e=>{let{__scopeDialog:r,forceMount:i,children:o,container:n}=e,a=j(S,r);return(0,x.jsx)(N,{scope:r,forceMount:i,children:t.Children.map(o,e=>(0,x.jsx)(c.Presence,{present:i||a.open,children:(0,x.jsx)(d.Portal,{asChild:!0,container:n,children:e})}))})};_.displayName=S;var E="DialogOverlay",T=t.forwardRef((e,t)=>{let r=z(E,e.__scopeDialog),{forceMount:i=r.forceMount,...o}=e,n=j(E,e.__scopeDialog);return n.modal?(0,x.jsx)(c.Presence,{present:i||n.open,children:(0,x.jsx)(P,{...o,ref:t})}):null});T.displayName=E;var R=(0,m.createSlot)("DialogOverlay.RemoveScroll"),P=t.forwardRef((e,t)=>{let{__scopeDialog:r,...i}=e,o=j(E,r);return(0,x.jsx)(h.RemoveScroll,{as:R,allowPinchZoom:!0,shards:[o.contentRef],children:(0,x.jsx)(u.Primitive.div,{"data-state":W(o.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),D="DialogContent",L=t.forwardRef((e,t)=>{let r=z(D,e.__scopeDialog),{forceMount:i=r.forceMount,...o}=e,n=j(D,e.__scopeDialog);return(0,x.jsx)(c.Presence,{present:i||n.open,children:n.modal?(0,x.jsx)(I,{...o,ref:t}):(0,x.jsx)(O,{...o,ref:t})})});L.displayName=D;var I=t.forwardRef((e,o)=>{let n=j(D,e.__scopeDialog),a=t.useRef(null),l=(0,i.useComposedRefs)(o,n.contentRef,a);return t.useEffect(()=>{let e=a.current;if(e)return(0,f.hideOthers)(e)},[]),(0,x.jsx)(A,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,r.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),O=t.forwardRef((e,r)=>{let i=j(D,e.__scopeDialog),o=t.useRef(!1),n=t.useRef(!1);return(0,x.jsx)(A,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(o.current||i.triggerRef.current?.focus(),t.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let r=t.target;i.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),A=t.forwardRef((e,r)=>{let{__scopeDialog:o,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:d,...c}=e,u=j(D,o),h=t.useRef(null),f=(0,i.useComposedRefs)(r,h);return(0,p.useFocusGuards)(),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.FocusScope,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:d,children:(0,x.jsx)(l.DismissableLayer,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":W(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Y,{titleId:u.titleId}),(0,x.jsx)(Z,{contentRef:h,descriptionId:u.descriptionId})]})]})}),F="DialogTitle",H=t.forwardRef((e,t)=>{let{__scopeDialog:r,...i}=e,o=j(F,r);return(0,x.jsx)(u.Primitive.h2,{id:o.titleId,...i,ref:t})});H.displayName=F;var M="DialogDescription",q=t.forwardRef((e,t)=>{let{__scopeDialog:r,...i}=e,o=j(M,r);return(0,x.jsx)(u.Primitive.p,{id:o.descriptionId,...i,ref:t})});q.displayName=M;var U="DialogClose",V=t.forwardRef((e,t)=>{let{__scopeDialog:i,...o}=e,n=j(U,i);return(0,x.jsx)(u.Primitive.button,{type:"button",...o,ref:t,onClick:(0,r.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})});function W(e){return e?"open":"closed"}V.displayName=U;var B="DialogTitleWarning",[$,X]=(0,o.createContext)(B,{contentName:D,titleName:F,docsSlug:"dialog"}),Y=({titleId:e})=>{let r=X(B),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return t.useEffect(()=>{e&&(document.getElementById(e)||console.error(i))},[i,e]),null},Z=({contentRef:e,descriptionId:r})=>{let i=X("DialogDescriptionWarning"),o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i.contentName}}.`;return t.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");r&&t&&(document.getElementById(r)||console.warn(o))},[o,e,r]),null};e.s(["Close",()=>V,"Content",()=>L,"Description",()=>q,"Overlay",()=>T,"Portal",()=>_,"Root",()=>w,"Title",()=>H,"Trigger",()=>C,"WarningProvider",()=>$,"createDialogScope",()=>b])},3012,e=>{"use strict";let t=(0,e.i(98905).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>t])},83239,e=>{"use strict";let t=(0,e.i(98905).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],83239)},25959,e=>{"use strict";var t=e.i(78042),r=e.i(45456),i=e.i(20264),o=e.i(94067),n=e.i(91967),a=e.i(52163),l=e.i(36157),s=e.i(66135),d=e.i(29417),c=e.i(50670),u="Checkbox",[p,h]=(0,o.createContextScope)(u),[f,m]=p(u);function x(e){let{__scopeCheckbox:i,checked:o,children:n,defaultChecked:l,disabled:s,form:d,name:c,onCheckedChange:p,required:h,value:m="on",internal_do_not_use_render:x}=e,[v,g]=(0,a.useControllableState)({prop:o,defaultProp:l??!1,onChange:p,caller:u}),[b,y]=r.useState(null),[j,w]=r.useState(null),k=r.useRef(!1),S=!b||!!d||!!b.closest("form"),N={checked:v,disabled:s,setChecked:g,control:b,setControl:y,name:c,form:d,value:m,hasConsumerStoppedPropagationRef:k,required:h,defaultChecked:!C(l)&&l,isFormControl:S,bubbleInput:j,setBubbleInput:w};return(0,t.jsx)(f,{scope:i,...N,children:"function"==typeof x?x(N):n})}var v="CheckboxTrigger",g=r.forwardRef(({__scopeCheckbox:e,onKeyDown:o,onClick:a,...l},s)=>{let{control:d,value:u,disabled:p,checked:h,required:f,setControl:x,setChecked:g,hasConsumerStoppedPropagationRef:b,isFormControl:y,bubbleInput:j}=m(v,e),w=(0,i.useComposedRefs)(s,x),k=r.useRef(h);return r.useEffect(()=>{let e=d?.form;if(e){let t=()=>g(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,g]),(0,t.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":C(h)?"mixed":h,"aria-required":f,"data-state":S(h),"data-disabled":p?"":void 0,disabled:p,value:u,...l,ref:w,onKeyDown:(0,n.composeEventHandlers)(o,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(a,e=>{g(e=>!!C(e)||!e),j&&y&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});g.displayName=v;var b=r.forwardRef((e,r)=>{let{__scopeCheckbox:i,name:o,checked:n,defaultChecked:a,required:l,disabled:s,value:d,onCheckedChange:c,form:u,...p}=e;return(0,t.jsx)(x,{__scopeCheckbox:i,checked:n,defaultChecked:a,disabled:s,required:l,onCheckedChange:c,name:o,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{...p,ref:r,__scopeCheckbox:i}),e&&(0,t.jsx)(k,{__scopeCheckbox:i})]})})});b.displayName=u;var y="CheckboxIndicator",j=r.forwardRef((e,r)=>{let{__scopeCheckbox:i,forceMount:o,...n}=e,a=m(y,i);return(0,t.jsx)(d.Presence,{present:o||C(a.checked)||!0===a.checked,children:(0,t.jsx)(c.Primitive.span,{"data-state":S(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...e.style}})})});j.displayName=y;var w="CheckboxBubbleInput",k=r.forwardRef(({__scopeCheckbox:e,...o},n)=>{let{control:a,hasConsumerStoppedPropagationRef:d,checked:u,defaultChecked:p,required:h,disabled:f,name:x,value:v,form:g,bubbleInput:b,setBubbleInput:y}=m(w,e),j=(0,i.useComposedRefs)(n,y),k=(0,l.usePrevious)(u),S=(0,s.useSize)(a);r.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(k!==u&&e){let r=new Event("click",{bubbles:t});b.indeterminate=C(u),e.call(b,!C(u)&&u),b.dispatchEvent(r)}},[b,k,u,d]);let N=r.useRef(!C(u)&&u);return(0,t.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??N.current,required:h,disabled:f,name:x,value:v,form:g,...o,tabIndex:-1,ref:j,style:{...o.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function S(e){return C(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=w;var N=e.i(31813),z=e.i(47163);function _({className:e,...r}){return(0,t.jsx)(b,{"data-slot":"checkbox",className:(0,z.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(j,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,t.jsx)(N.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>_],25959)},62460,e=>{"use strict";let t=(0,e.i(98905).default)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);e.s(["MessageSquare",()=>t],62460)},27350,e=>{"use strict";var t=e.i(50385);e.s(["CheckCircle2",()=>t.default])},15399,e=>{"use strict";let t=(0,e.i(98905).default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);e.s(["Hash",()=>t],15399)},10919,e=>{"use strict";let t=(0,e.i(98905).default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>t],10919)},71435,e=>{"use strict";var t=e.i(78042),r=e.i(45456),i=e.i(50670),o=e.i(29417),n=e.i(94067),a=e.i(20264),l=e.i(70259),s=e.i(33979),d=e.i(84365),c=e.i(27069),u=e.i(91967),p="ScrollArea",[h,f]=(0,n.createContextScope)(p),[m,x]=h(p),v=r.forwardRef((e,o)=>{let{__scopeScrollArea:n,type:l="hover",dir:d,scrollHideDelay:c=600,...u}=e,[p,h]=r.useState(null),[f,x]=r.useState(null),[v,g]=r.useState(null),[b,y]=r.useState(null),[j,w]=r.useState(null),[k,C]=r.useState(0),[S,N]=r.useState(0),[z,_]=r.useState(!1),[E,T]=r.useState(!1),R=(0,a.useComposedRefs)(o,e=>h(e)),P=(0,s.useDirection)(d);return(0,t.jsx)(m,{scope:n,type:l,dir:P,scrollHideDelay:c,scrollArea:p,viewport:f,onViewportChange:x,content:v,onContentChange:g,scrollbarX:b,onScrollbarXChange:y,scrollbarXEnabled:z,onScrollbarXEnabledChange:_,scrollbarY:j,onScrollbarYChange:w,scrollbarYEnabled:E,onScrollbarYEnabledChange:T,onCornerWidthChange:C,onCornerHeightChange:N,children:(0,t.jsx)(i.Primitive.div,{dir:P,...u,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});v.displayName=p;var g="ScrollAreaViewport",b=r.forwardRef((e,o)=>{let{__scopeScrollArea:n,children:l,nonce:s,...d}=e,c=x(g,n),u=r.useRef(null),p=(0,a.useComposedRefs)(o,u,c.onViewportChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,t.jsx)(i.Primitive.div,{"data-radix-scroll-area-viewport":"",...d,ref:p,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,t.jsx)("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});b.displayName=g;var y="ScrollAreaScrollbar",j=r.forwardRef((e,i)=>{let{forceMount:o,...n}=e,a=x(y,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:s}=a,d="horizontal"===e.orientation;return r.useEffect(()=>(d?l(!0):s(!0),()=>{d?l(!1):s(!1)}),[d,l,s]),"hover"===a.type?(0,t.jsx)(w,{...n,ref:i,forceMount:o}):"scroll"===a.type?(0,t.jsx)(k,{...n,ref:i,forceMount:o}):"auto"===a.type?(0,t.jsx)(C,{...n,ref:i,forceMount:o}):"always"===a.type?(0,t.jsx)(S,{...n,ref:i}):null});j.displayName=y;var w=r.forwardRef((e,i)=>{let{forceMount:n,...a}=e,l=x(y,e.__scopeScrollArea),[s,d]=r.useState(!1);return r.useEffect(()=>{let e=l.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),d(!0)},i=()=>{t=window.setTimeout(()=>d(!1),l.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",i),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",i)}}},[l.scrollArea,l.scrollHideDelay]),(0,t.jsx)(o.Presence,{present:n||s,children:(0,t.jsx)(C,{"data-state":s?"visible":"hidden",...a,ref:i})})}),k=r.forwardRef((e,i)=>{var n;let{forceMount:a,...l}=e,s=x(y,e.__scopeScrollArea),d="horizontal"===e.orientation,c=V(()=>h("SCROLL_END"),100),[p,h]=(n={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>n[e][t]??e,"hidden"));return r.useEffect(()=>{if("idle"===p){let e=window.setTimeout(()=>h("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(e)}},[p,s.scrollHideDelay,h]),r.useEffect(()=>{let e=s.viewport,t=d?"scrollLeft":"scrollTop";if(e){let r=e[t],i=()=>{let i=e[t];r!==i&&(h("SCROLL"),c()),r=i};return e.addEventListener("scroll",i),()=>e.removeEventListener("scroll",i)}},[s.viewport,d,h,c]),(0,t.jsx)(o.Presence,{present:a||"hidden"!==p,children:(0,t.jsx)(S,{"data-state":"hidden"===p?"hidden":"visible",...l,ref:i,onPointerEnter:(0,u.composeEventHandlers)(e.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:(0,u.composeEventHandlers)(e.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),C=r.forwardRef((e,i)=>{let n=x(y,e.__scopeScrollArea),{forceMount:a,...l}=e,[s,d]=r.useState(!1),c="horizontal"===e.orientation,u=V(()=>{if(n.viewport){let e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;d(c?e:t)}},10);return W(n.viewport,u),W(n.content,u),(0,t.jsx)(o.Presence,{present:a||s,children:(0,t.jsx)(S,{"data-state":s?"visible":"hidden",...l,ref:i})})}),S=r.forwardRef((e,i)=>{let{orientation:o="vertical",...n}=e,a=x(y,e.__scopeScrollArea),l=r.useRef(null),s=r.useRef(0),[d,c]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=F(d.viewport,d.content),p={...n,sizes:d,onSizesChange:c,hasThumb:!!(u>0&&u<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function h(e,t){return function(e,t,r,i="ltr"){let o=H(r),n=t||o/2,a=r.scrollbar.paddingStart+n,l=r.scrollbar.size-r.scrollbar.paddingEnd-(o-n),s=r.content-r.viewport;return q([a,l],"ltr"===i?[0,s]:[-1*s,0])(e)}(e,s.current,d,t)}return"horizontal"===o?(0,t.jsx)(N,{...p,ref:i,onThumbPositionChange:()=>{if(a.viewport&&l.current){let e=M(a.viewport.scrollLeft,d,a.dir);l.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=h(e,a.dir))}}):"vertical"===o?(0,t.jsx)(z,{...p,ref:i,onThumbPositionChange:()=>{if(a.viewport&&l.current){let e=M(a.viewport.scrollTop,d);l.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=h(e))}}):null}),N=r.forwardRef((e,i)=>{let{sizes:o,onSizesChange:n,...l}=e,s=x(y,e.__scopeScrollArea),[d,c]=r.useState(),u=r.useRef(null),p=(0,a.useComposedRefs)(i,u,s.onScrollbarXChange);return r.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),(0,t.jsx)(T,{"data-orientation":"horizontal",...l,ref:p,sizes:o,style:{bottom:0,left:"rtl"===s.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===s.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":H(o)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(s.viewport){var i,o;let n=s.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),i=n,o=r,i>0&&i<o&&t.preventDefault()}},onResize:()=>{u.current&&s.viewport&&d&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:A(d.paddingLeft),paddingEnd:A(d.paddingRight)}})}})}),z=r.forwardRef((e,i)=>{let{sizes:o,onSizesChange:n,...l}=e,s=x(y,e.__scopeScrollArea),[d,c]=r.useState(),u=r.useRef(null),p=(0,a.useComposedRefs)(i,u,s.onScrollbarYChange);return r.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),(0,t.jsx)(T,{"data-orientation":"vertical",...l,ref:p,sizes:o,style:{top:0,right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":H(o)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(s.viewport){var i,o;let n=s.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),i=n,o=r,i>0&&i<o&&t.preventDefault()}},onResize:()=>{u.current&&s.viewport&&d&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:A(d.paddingTop),paddingEnd:A(d.paddingBottom)}})}})}),[_,E]=h(y),T=r.forwardRef((e,o)=>{let{__scopeScrollArea:n,sizes:s,hasThumb:d,onThumbChange:c,onThumbPointerUp:p,onThumbPointerDown:h,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:v,onResize:g,...b}=e,j=x(y,n),[w,k]=r.useState(null),C=(0,a.useComposedRefs)(o,e=>k(e)),S=r.useRef(null),N=r.useRef(""),z=j.viewport,E=s.content-s.viewport,T=(0,l.useCallbackRef)(v),R=(0,l.useCallbackRef)(f),P=V(g,10);function D(e){S.current&&m({x:e.clientX-S.current.left,y:e.clientY-S.current.top})}return r.useEffect(()=>{let e=e=>{let t=e.target;w?.contains(t)&&T(e,E)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[z,w,E,T]),r.useEffect(R,[s,R]),W(w,P),W(j.content,P),(0,t.jsx)(_,{scope:n,scrollbar:w,hasThumb:d,onThumbChange:(0,l.useCallbackRef)(c),onThumbPointerUp:(0,l.useCallbackRef)(p),onThumbPositionChange:R,onThumbPointerDown:(0,l.useCallbackRef)(h),children:(0,t.jsx)(i.Primitive.div,{...b,ref:C,style:{position:"absolute",...b.style},onPointerDown:(0,u.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),S.current=w.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j.viewport&&(j.viewport.style.scrollBehavior="auto"),D(e))}),onPointerMove:(0,u.composeEventHandlers)(e.onPointerMove,D),onPointerUp:(0,u.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=N.current,j.viewport&&(j.viewport.style.scrollBehavior=""),S.current=null})})})}),R="ScrollAreaThumb",P=r.forwardRef((e,r)=>{let{forceMount:i,...n}=e,a=E(R,e.__scopeScrollArea);return(0,t.jsx)(o.Presence,{present:i||a.hasThumb,children:(0,t.jsx)(D,{ref:r,...n})})}),D=r.forwardRef((e,o)=>{let{__scopeScrollArea:n,style:l,...s}=e,d=x(R,n),c=E(R,n),{onThumbPositionChange:p}=c,h=(0,a.useComposedRefs)(o,e=>c.onThumbChange(e)),f=r.useRef(void 0),m=V(()=>{f.current&&(f.current(),f.current=void 0)},100);return r.useEffect(()=>{let e=d.viewport;if(e){let t=()=>{m(),f.current||(f.current=U(e,p),p())};return p(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[d.viewport,m,p]),(0,t.jsx)(i.Primitive.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:(0,u.composeEventHandlers)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top;c.onThumbPointerDown({x:r,y:i})}),onPointerUp:(0,u.composeEventHandlers)(e.onPointerUp,c.onThumbPointerUp)})});P.displayName=R;var L="ScrollAreaCorner",I=r.forwardRef((e,r)=>{let i=x(L,e.__scopeScrollArea),o=!!(i.scrollbarX&&i.scrollbarY);return"scroll"!==i.type&&o?(0,t.jsx)(O,{...e,ref:r}):null});I.displayName=L;var O=r.forwardRef((e,o)=>{let{__scopeScrollArea:n,...a}=e,l=x(L,n),[s,d]=r.useState(0),[c,u]=r.useState(0),p=!!(s&&c);return W(l.scrollbarX,()=>{let e=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(e),u(e)}),W(l.scrollbarY,()=>{let e=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(e),d(e)}),p?(0,t.jsx)(i.Primitive.div,{...a,ref:o,style:{width:s,height:c,position:"absolute",right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:0,...e.style}}):null});function A(e){return e?parseInt(e,10):0}function F(e,t){let r=e/t;return isNaN(r)?0:r}function H(e){let t=F(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function M(e,t,r="ltr"){let i=H(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-o,a=t.content-t.viewport,l=(0,c.clamp)(e,"ltr"===r?[0,a]:[-1*a,0]);return q([0,a],[0,n-i])(l)}function q(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}var U=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},i=0;return!function o(){let n={left:e.scrollLeft,top:e.scrollTop},a=r.left!==n.left,l=r.top!==n.top;(a||l)&&t(),r=n,i=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(i)};function V(e,t){let i=(0,l.useCallbackRef)(e),o=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(o.current),[]),r.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(i,t)},[i,t])}function W(e,t){let r=(0,l.useCallbackRef)(t);(0,d.useLayoutEffect)(()=>{let t=0;if(e){let i=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(t),i.unobserve(e)}}},[e,r])}var B=e.i(47163);function $({className:e,children:r,...i}){return(0,t.jsxs)(v,{"data-slot":"scroll-area",className:(0,B.cn)("relative",e),...i,children:[(0,t.jsx)(b,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),(0,t.jsx)(X,{}),(0,t.jsx)(I,{})]})}function X({className:e,orientation:r="vertical",...i}){return(0,t.jsx)(j,{"data-slot":"scroll-area-scrollbar",orientation:r,className:(0,B.cn)("flex touch-none p-px transition-colors select-none","vertical"===r&&"h-full w-2.5 border-l border-l-transparent","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent",e),...i,children:(0,t.jsx)(P,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}e.s(["ScrollArea",()=>$],71435)},15306,e=>{"use strict";var t=e.i(78042),r=e.i(45456),i=e.i(93166),o=e.i(75871),n=e.i(999),a=e.i(91225),l=e.i(13532),s=e.i(2728),d=e.i(67881),c=e.i(23750),u=e.i(10708),p=e.i(94179),h=e.i(62870),f=e.i(25959),m=e.i(84762),x=e.i(97835),v=e.i(8270),g=e.i(47163);function b({...e}){return(0,t.jsx)(x.Root,{"data-slot":"sheet",...e})}function y({...e}){return(0,t.jsx)(x.Close,{"data-slot":"sheet-close",...e})}function j({...e}){return(0,t.jsx)(x.Portal,{"data-slot":"sheet-portal",...e})}function w({className:e,...r}){return(0,t.jsx)(x.Overlay,{"data-slot":"sheet-overlay",className:(0,g.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function k({className:e,children:r,side:i="right",...o}){return(0,t.jsxs)(j,{children:[(0,t.jsx)(w,{}),(0,t.jsxs)(x.Content,{"data-slot":"sheet-content",className:(0,g.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===i&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===i&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===i&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===i&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...o,children:[r,(0,t.jsxs)(x.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,t.jsx)(v.XIcon,{className:"size-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function C({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sheet-header",className:(0,g.cn)("flex flex-col gap-1.5 p-4",e),...r})}function S({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"sheet-footer",className:(0,g.cn)("mt-auto flex flex-col gap-2 p-4",e),...r})}function N({className:e,...r}){return(0,t.jsx)(x.Title,{"data-slot":"sheet-title",className:(0,g.cn)("text-foreground font-semibold",e),...r})}function z({className:e,...r}){return(0,t.jsx)(x.Description,{"data-slot":"sheet-description",className:(0,g.cn)("text-muted-foreground text-sm",e),...r})}var _=e.i(28231),E=e.i(83239),T=e.i(53663),R=e.i(88109),P=e.i(25059),D=e.i(6563),L=e.i(62460),I=e.i(53259),O=e.i(10919),A=e.i(27350),F=e.i(15399),H=e.i(53504),M=e.i(98905);let q=(0,M.default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var U=e.i(15278),V=e.i(84986);let W=(0,M.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var B=e.i(95403),$=e.i(71435);let X={text:"Krátký text",textarea:"Dlouhý text",number:"Číslo",checkbox:"Zaškrtávací pole",url:"URL odkaz",select:"Výběr z možností"},Y={basic:{label:"Základní informace",icon:D.Users,description:"Jméno, věk, Discord..."},motivation:{label:"Motivace",icon:L.MessageSquare,description:"Proč u nás chcete hrát?"},roleplay:{label:"Roleplay",icon:O.BookOpen,description:"Pojmy, zkušenosti..."},rules_basic:{label:"Základní pravidla",icon:I.Shield,description:"Nejčastější prohřešky."},rules_advanced:{label:"Pokročilá pravidla",icon:P.Settings,description:"Komplexnější pravidla."},specific_rules:{label:"Specifická pravidla",icon:A.CheckCircle2,description:"Pravidla pro frakce, gangy."},scenarios:{label:"Herní scénáře",icon:T.FileText,description:"Jak bys řešil situaci X?"},agreement:{label:"Souhlasy",icon:A.CheckCircle2,description:"Souhlas se zpracováním údajů."},general:{label:"Obecné",icon:F.Hash,description:"Nezařazené otázky."}},Z={question:"",field_name:"",field_type:"text",placeholder:"",required:!0,category:"general",is_active:!0},K=({question:e,handleEdit:r,handleDelete:i,handleToggleActive:o})=>{let{attributes:n,listeners:s,setNodeRef:c,transform:u,transition:h}=(0,a.useSortable)({id:e.id}),f={transform:l.CSS.Transform.toString(u),transition:h};return(0,t.jsxs)("div",{ref:c,style:f,className:(0,g.cn)("flex items-center bg-zinc-900/50 border border-zinc-800 rounded-lg p-3 pr-4 shadow-sm transition-all duration-200",!e.is_active&&"bg-zinc-950/50 border-zinc-900 opacity-60"),children:[(0,t.jsx)("div",{...n,...s,className:"p-2 cursor-grab text-zinc-500 hover:text-white transition-colors",children:(0,t.jsx)(H.GripVertical,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-grow ml-2",children:[(0,t.jsx)("p",{className:"font-medium text-zinc-100",children:e.question}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-zinc-400 mt-1",children:[(0,t.jsx)(p.Badge,{variant:"outline",className:"text-xs",children:X[e.field_type]}),e.required&&(0,t.jsx)(p.Badge,{variant:"destructive",className:"bg-red-500/10 text-red-400 border-none",children:"Povinné"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(_.TooltipProvider,{children:[(0,t.jsxs)(_.Tooltip,{children:[(0,t.jsx)(_.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(d.Button,{variant:"ghost",size:"icon",onClick:()=>o(e),children:e.is_active?(0,t.jsx)(V.Eye,{className:"h-4 w-4"}):(0,t.jsx)(W,{className:"h-4 w-4"})})}),(0,t.jsx)(_.TooltipContent,{children:(0,t.jsx)("p",{children:e.is_active?"Skrýt otázku":"Zobrazit otázku"})})]}),(0,t.jsxs)(_.Tooltip,{children:[(0,t.jsx)(_.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(d.Button,{variant:"ghost",size:"icon",onClick:()=>r(e),children:(0,t.jsx)(q,{className:"h-4 w-4"})})}),(0,t.jsx)(_.TooltipContent,{children:(0,t.jsx)("p",{children:"Upravit otázku"})})]}),(0,t.jsxs)(_.Tooltip,{children:[(0,t.jsx)(_.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(d.Button,{variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-400",onClick:()=>i(e.id),children:(0,t.jsx)(U.Trash2,{className:"h-4 w-4"})})}),(0,t.jsx)(_.TooltipContent,{children:(0,t.jsx)("p",{children:"Smazat otázku"})})]})]})})]})};function J(){let[e,l]=(0,r.useState)([]),[p,x]=(0,r.useState)(!0),[v,j]=(0,r.useState)("basic"),[w,P]=(0,r.useState)(null),[D,L]=(0,r.useState)(Z),[I,O]=(0,r.useState)(!1),[A,F]=(0,r.useState)(!1),H=(0,n.useSensors)((0,n.useSensor)(n.PointerSensor));(0,r.useEffect)(()=>{M()},[]);let M=async()=>{x(!0);try{let e=await fetch("/api/admin/whitelist-questions");if(!e.ok)throw Error("Failed to fetch questions");let t=await e.json();l(t.questions||[])}catch(e){B.toast.error("Chyba při načítání otázek")}finally{x(!1)}},q=async()=>{if(!D.question||!D.field_name||!D.field_type)return void B.toast.error("Vyplňte všechna povinná pole: Otázka, Název pole, Typ pole.");F(!0);try{let t=w?`/api/admin/whitelist-questions/${w.id}`:"/api/admin/whitelist-questions",r=w?"PUT":"POST",i={...D,order_index:w?.order_index??e.filter(e=>e.category===D.category).length},o=await fetch(t,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){let e=await o.text();throw Error(e||"Failed to save question")}B.toast.success(w?"Otázka byla aktualizována":"Otázka byla vytvořena"),await M(),O(!1)}catch(e){B.toast.error(`Chyba při ukl\xe1d\xe1n\xed: ${e.message}`)}finally{F(!1)}},U=async t=>{let r=e.find(e=>e.id===t);if(r&&confirm(`Opravdu chcete smazat ot\xe1zku "${r.question}"?`))try{let e=await fetch(`/api/admin/whitelist-questions/${t}`,{method:"DELETE"});if(!e.ok){let t=await e.text();throw Error(t||"Failed to delete question")}B.toast.success("Otázka byla smazána"),await M()}catch(e){B.toast.error(`Chyba při maz\xe1n\xed: ${e.message}`)}},V=async e=>{try{let t=await fetch(`/api/admin/whitelist-questions/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,is_active:!e.is_active})});if(!t.ok){let e=await t.text();throw Error(e||"Failed to toggle question")}B.toast.success(`Ot\xe1zka byla ${!e.is_active?"zobrazena":"skryta"}.`),await M()}catch(e){B.toast.error(`Chyba při změně viditelnosti: ${e.message}`)}},W=e=>{P(e),L(e),O(!0)},J=async t=>{let{active:r,over:i}=t,o=e.filter(e=>e.category===v).sort((e,t)=>e.order_index-t.order_index);if(r.id!==i?.id){let t=o.findIndex(e=>e.id===r.id),n=o.findIndex(e=>e.id===i.id),s=(0,a.arrayMove)(o,t,n);l(e.map(e=>{if(s.find(t=>t.id===e.id)){let t=s.findIndex(t=>t.id===e.id);return{...e,order_index:t}}return e}));let d=s.map((e,t)=>({id:e.id,order_index:t}));try{if(!(await fetch("/api/admin/whitelist-questions",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:d})})).ok)throw Error("Failed to update order");B.toast.success("Pořadí otázek bylo aktualizováno."),await M()}catch(e){B.toast.error("Nepodařilo se uložit nové pořadí."),await M()}}},G=(0,r.useMemo)(()=>e.filter(e=>e.category===v).sort((e,t)=>e.order_index-t.order_index),[e,v]);return(0,t.jsxs)("div",{className:"flex gap-10 min-h-[calc(100vh-8rem)]",children:[(0,t.jsxs)("aside",{className:"w-64 flex-shrink-0",children:[(0,t.jsxs)("div",{className:"p-3 rounded-xl bg-gradient-to-br from-[#b90505]/20 to-[#bd2727]/10 text-[#bd2727] border border-[#b90505]/30 shadow-lg mb-6 flex items-center gap-4",children:[(0,t.jsx)(T.FileText,{className:"h-8 w-8"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Whitelist"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Správa otázek"})]})]}),(0,t.jsx)("nav",{className:"flex flex-col gap-1",children:Object.entries(Y).map(([r,{label:i,icon:o,description:n}])=>(0,t.jsx)(_.TooltipProvider,{delayDuration:100,children:(0,t.jsxs)(_.Tooltip,{children:[(0,t.jsx)(_.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)("button",{onClick:()=>j(r),className:(0,g.cn)("flex items-center gap-3 w-full text-left px-3 py-2.5 rounded-md text-sm font-medium transition-colors duration-200",v===r?"bg-zinc-800 text-white shadow-inner":"text-zinc-400 hover:bg-zinc-800/50 hover:text-zinc-200"),children:[(0,t.jsx)(o,{className:"h-5 w-5 flex-shrink-0"}),(0,t.jsx)("span",{children:i}),(0,t.jsx)("span",{className:"ml-auto text-xs font-mono px-1.5 py-0.5 rounded-sm bg-zinc-700/50",children:e.filter(e=>e.category===r).length})]})}),(0,t.jsx)(_.TooltipContent,{side:"right",children:(0,t.jsx)("p",{children:n})})]})},r))})]}),(0,t.jsxs)("main",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-white",children:Y[v]?.label||"Všechny otázky"}),(0,t.jsx)("p",{className:"text-zinc-400 mt-1",children:Y[v]?.description||"Správa všech otázek ve formuláři."})]}),(0,t.jsxs)(d.Button,{onClick:()=>{P(null),L({...Z,category:v}),O(!0)},className:"bg-[#b90505] hover:bg-[#8a0101]",children:[(0,t.jsx)(E.Plus,{className:"mr-2 h-4 w-4"}),"Přidat novou otázku"]})]}),p?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-[#b90505] border-t-transparent rounded-full animate-spin"})}):G.length>0?(0,t.jsx)(n.DndContext,{sensors:H,collisionDetection:n.closestCenter,onDragEnd:J,modifiers:[s.restrictToVerticalAxis,s.restrictToWindowEdges],children:(0,t.jsx)(a.SortableContext,{items:G.map(e=>e.id),strategy:a.verticalListSortingStrategy,children:(0,t.jsx)("div",{className:"space-y-3",children:G.map(e=>(0,t.jsx)(K,{question:e,handleEdit:W,handleDelete:U,handleToggleActive:V},e.id))})})}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center text-center bg-zinc-900/50 border-2 border-dashed border-zinc-800 rounded-xl py-20",children:[(0,t.jsx)(R.AlertCircle,{className:"h-12 w-12 text-zinc-600 mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Žádné otázky v této kategorii"}),(0,t.jsx)("p",{className:"text-zinc-400 mt-2 max-w-sm",children:`Pro kategorii "${Y[v]?.label}" zat\xedm nebyly vytvořeny ž\xe1dn\xe9 ot\xe1zky. Můžete je přidat kliknut\xedm na tlač\xedtko vpravo nahoře.`})]})]}),(0,t.jsx)(b,{open:I,onOpenChange:O,children:(0,t.jsxs)(k,{className:"bg-zinc-950 border-zinc-800 text-zinc-50 sm:max-w-lg",children:[(0,t.jsxs)($.ScrollArea,{className:"h-full pr-6 -mr-6",children:[(0,t.jsxs)(C,{className:"mb-6",children:[(0,t.jsx)(N,{className:"text-2xl text-white",children:w?"Upravit otázku":"Vytvořit novou otázku"}),(0,t.jsx)(z,{children:"Pečlivě vyplňte všechny detaily. Změny se projeví ve formuláři pro žadatele o whitelist."})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4 p-4 rounded-lg border border-zinc-800 bg-zinc-900",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg text-white",children:"Základní nastavení"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"question",children:"Text otázky"}),(0,t.jsx)(m.Textarea,{id:"question",value:D.question||"",onChange:e=>L({...D,question:e.target.value}),className:"mt-1",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"category",children:"Kategorie"}),(0,t.jsxs)(h.Select,{value:D.category,onValueChange:e=>L({...D,category:e}),children:[(0,t.jsx)(h.SelectTrigger,{id:"category",className:"mt-1",children:(0,t.jsx)(h.SelectValue,{placeholder:"Vyberte kategorii"})}),(0,t.jsx)(h.SelectContent,{children:Object.entries(Y).map(([e,{label:r}])=>(0,t.jsx)(h.SelectItem,{value:e,children:r},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"field_type",children:"Typ pole"}),(0,t.jsxs)(h.Select,{value:D.field_type,onValueChange:e=>L({...D,field_type:e}),children:[(0,t.jsx)(h.SelectTrigger,{id:"field_type",className:"mt-1",children:(0,t.jsx)(h.SelectValue,{placeholder:"Vyberte typ pole"})}),(0,t.jsx)(h.SelectContent,{children:Object.entries(X).map(([e,r])=>(0,t.jsx)(h.SelectItem,{value:e,children:r},e))})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"field_name",children:"Unikátní název pole (bez diakritiky a mezer)"}),(0,t.jsx)(c.Input,{id:"field_name",value:D.field_name||"",onChange:e=>L({...D,field_name:e.target.value.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}),className:"mt-1 font-mono",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"placeholder",children:"Placeholder (nápověda v poli)"}),(0,t.jsx)(c.Input,{id:"placeholder",value:D.placeholder||"",onChange:e=>L({...D,placeholder:e.target.value}),className:"mt-1"})]})]}),(0,t.jsx)(o.AnimatePresence,{children:("number"===D.field_type||"text"===D.field_type||"textarea"===D.field_type||"select"===D.field_type)&&(0,t.jsxs)(i.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 p-4 rounded-lg border border-zinc-800 bg-zinc-900 overflow-hidden",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg text-white",children:"Specifická nastavení pole"}),"number"===D.field_type&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"min_value",children:"Minimální hodnota"}),(0,t.jsx)(c.Input,{id:"min_value",type:"number",value:D.min_value??"",onChange:e=>L({...D,min_value:""===e.target.value?void 0:Number(e.target.value)}),className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"max_value",children:"Maximální hodnota"}),(0,t.jsx)(c.Input,{id:"max_value",type:"number",value:D.max_value??"",onChange:e=>L({...D,max_value:""===e.target.value?void 0:Number(e.target.value)}),className:"mt-1"})]})]}),("text"===D.field_type||"textarea"===D.field_type)&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"min_length",children:"Minimální délka"}),(0,t.jsx)(c.Input,{id:"min_length",type:"number",value:D.min_length??"",onChange:e=>L({...D,min_length:""===e.target.value?void 0:Number(e.target.value)}),className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"max_length",children:"Maximální délka"}),(0,t.jsx)(c.Input,{id:"max_length",type:"number",value:D.max_length??"",onChange:e=>L({...D,max_length:""===e.target.value?void 0:Number(e.target.value)}),className:"mt-1"})]})]}),"select"===D.field_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Label,{htmlFor:"options",children:"Možnosti (každá na nový řádek)"}),(0,t.jsx)(m.Textarea,{id:"options",value:D.options?.join("\n")||"",onChange:e=>L({...D,options:e.target.value.split("\n")}),className:"mt-1 font-mono",rows:4})]})]})}),(0,t.jsxs)("div",{className:"space-y-4 p-4 rounded-lg border border-zinc-800 bg-zinc-900",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg text-white",children:"Atributy"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.Checkbox,{id:"required",checked:D.required,onCheckedChange:e=>L({...D,required:!!e})}),(0,t.jsx)(u.Label,{htmlFor:"required",children:"Povinná otázka"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.Checkbox,{id:"is_active",checked:D.is_active,onCheckedChange:e=>L({...D,is_active:!!e})}),(0,t.jsx)(u.Label,{htmlFor:"is_active",children:"Aktivní (zobrazit ve formuláři)"})]})]})]})]}),(0,t.jsxs)(S,{className:"mt-6 pt-4 border-t border-zinc-800",children:[(0,t.jsx)(y,{asChild:!0,children:(0,t.jsx)(d.Button,{variant:"outline",children:"Zrušit"})}),(0,t.jsx)(d.Button,{onClick:q,disabled:A,children:A?"Ukládání...":"Uložit otázku"})]})]})})]})}e.s(["default",()=>J],15306)}]);