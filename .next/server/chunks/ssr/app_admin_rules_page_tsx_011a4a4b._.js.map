{"version":3,"sources":["../../../../app/admin/rules/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport {\n    DndContext,\n    closestCenter,\n    KeyboardSensor,\n    PointerSensor,\n    useSensor,\n    useSensors,\n    DragEndEvent,\n} from '@dnd-kit/core';\nimport {\n    arrayMove,\n    SortableContext,\n    sortableKeyboardCoordinates,\n    verticalListSortingStrategy,\n    useSortable,\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { restrictToVerticalAxis, restrictToWindowEdges } from '@dnd-kit/modifiers';\n\nimport { Button, buttonVariants } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport {\n    Plus,\n    Edit3,\n    Trash2,\n    Save,\n    X,\n    GripVertical,\n    ChevronDown,\n} from 'lucide-react'\nimport { motion } from 'framer-motion'\nimport { toast } from 'sonner'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\"\n\n// Interfaces\ninterface RuleSection {\n    id: string\n    title: string\n    icon?: string\n    order_index: number\n}\n\ninterface RuleSubcategory {\n    id: string\n    section_id: string\n    title: string\n    icon?: string\n    order_index: number\n}\n\ninterface Rule {\n    id: number\n    section_id: string\n    subcategory_id?: string | null\n    content: string\n    order_index: number\n}\n\ninterface RulesData {\n    sections: RuleSection[]\n    subcategories: RuleSubcategory[]\n    rules: Rule[]\n}\n\n// Sortable Item Component\nfunction SortableItem(props: {\n    type: 'section' | 'subcategory' | 'rule',\n    item: RuleSection | RuleSubcategory | Rule,\n    children: React.ReactNode\n}) {\n    const {\n        attributes,\n        listeners,\n        setNodeRef,\n        transform,\n        transition,\n    } = useSortable({\n        id: props.item.id,\n        data: {\n            type: props.type,\n            item: props.item,\n        }\n    });\n\n    const style = {\n        transform: CSS.Transform.toString(transform),\n        transition,\n    };\n\n    return (\n        <div ref={setNodeRef} style={style} className=\"flex items-center gap-2 w-full\">\n            <button {...attributes} {...listeners} className=\"p-2 text-gray-400 hover:text-white transition-colors cursor-grab active:cursor-grabbing\">\n                <GripVertical className=\"h-5 w-5\" />\n            </button>\n            <div className=\"flex-1\">\n                {props.children}\n            </div>\n        </div>\n    );\n}\n\nexport default function RulesAdmin() {\n    const [rulesData, setRulesData] = useState<RulesData>({\n        sections: [],\n        subcategories: [],\n        rules: []\n    })\n    const [isLoading, setIsLoading] = useState(true)\n    const [isEditing, setIsEditing] = useState(false)\n    const [editType, setEditType] = useState<'section' | 'subcategory' | 'rule'>('rule')\n    const [editingData, setEditingData] = useState<any>({})\n    const [isSaving, setIsSaving] = useState(false)\n    const [isDeleting, setIsDeleting] = useState(false)\n    const [deleteTarget, setDeleteTarget] = useState<{type: string, id: any} | null>(null)\n    const [openItems, setOpenItems] = useState<Record<string, boolean>>({});\n\n    const sensors = useSensors(\n        useSensor(PointerSensor),\n        useSensor(KeyboardSensor, {\n            coordinateGetter: sortableKeyboardCoordinates,\n        })\n    );\n\n    useEffect(() => {\n        fetchRulesData()\n    }, [])\n\n    const fetchRulesData = async () => {\n        try {\n            setIsLoading(true)\n            const response = await fetch('/api/admin/rules')\n            \n            if (!response.ok) {\n                toast.error('Chyba při načítání pravidel')\n                return\n            }\n\n            const data = await response.json()\n            setRulesData({\n                sections: data.sections.sort((a: RuleSection, b: RuleSection) => a.order_index - b.order_index),\n                subcategories: data.subcategories.sort((a: RuleSubcategory, b: RuleSubcategory) => a.order_index - b.order_index),\n                rules: data.rules.sort((a: Rule, b: Rule) => a.order_index - b.order_index)\n            });\n        } catch (error) {\n            console.error('Error fetching rules:', error)\n            toast.error('Chyba při načítání pravidel')\n        } finally {\n            setIsLoading(false)\n        }\n    }\n\n    const handleDragEnd = async (event: DragEndEvent) => {\n        const { active, over } = event;\n    \n        if (!over || active.id === over.id) {\n            return;\n        }\n    \n        const activeType = active.data.current?.type as 'section' | 'subcategory' | 'rule';\n        const activeItem = active.data.current?.item;\n    \n        const overType = over.data.current?.type;\n    \n        if (!activeType || !activeItem || activeType !== overType) {\n            return;\n        }\n        \n        const typeToKeyMap = {\n            section: 'sections',\n            subcategory: 'subcategories',\n            rule: 'rules',\n        };\n    \n        const itemsKey = typeToKeyMap[activeType] as keyof RulesData;\n        const allItemsOfThisType = rulesData[itemsKey] as (RuleSection | RuleSubcategory | Rule)[];\n    \n        let currentSortableList: any[];\n    \n        if (activeType === 'section') {\n            currentSortableList = [...rulesData.sections];\n        } else if (activeType === 'subcategory') {\n            const typedActiveItem = activeItem as RuleSubcategory;\n            currentSortableList = rulesData.subcategories.filter(s => s.section_id === typedActiveItem.section_id);\n        } else { // rule\n            const typedActiveItem = activeItem as Rule;\n            currentSortableList = rulesData.rules.filter(r => \n                r.section_id === typedActiveItem.section_id && r.subcategory_id === typedActiveItem.subcategory_id\n            );\n        }\n    \n        const oldIndex = currentSortableList.findIndex(item => item.id === active.id);\n        const newIndex = currentSortableList.findIndex(item => item.id === over.id);\n    \n        if (oldIndex === -1 || newIndex === -1) {\n            return;\n        }\n    \n        const reorderedList = arrayMove(currentSortableList, oldIndex, newIndex);\n    \n        const updatedItemsForAPI = reorderedList.map((item, index) => ({\n            id: item.id,\n            order_index: index,\n        }));\n\n        const reorderedSublistWithNewIndices = reorderedList.map((item, index) => ({\n            ...item,\n            order_index: index,\n        }));\n    \n        const newFullListForState = allItemsOfThisType.map(item => {\n            const updatedItem = reorderedSublistWithNewIndices.find(u => u.id === item.id);\n            return updatedItem || item;\n        });\n\n        // This is the crucial step: sort the entire list correctly before setting state\n        if (itemsKey === 'sections') {\n            (newFullListForState as RuleSection[]).sort((a, b) => a.order_index - b.order_index);\n        } else if (itemsKey === 'subcategories') {\n            (newFullListForState as RuleSubcategory[]).sort((a, b) => {\n                if (a.section_id < b.section_id) return -1;\n                if (a.section_id > b.section_id) return 1;\n                return a.order_index - b.order_index;\n            });\n        } else if (itemsKey === 'rules') {\n            (newFullListForState as Rule[]).sort((a, b) => {\n                if (a.section_id < b.section_id) return -1;\n                if (a.section_id > b.section_id) return 1;\n                const subA = a.subcategory_id || '';\n                const subB = b.subcategory_id || '';\n                if (subA < subB) return -1;\n                if (subA > subB) return 1;\n                return a.order_index - b.order_index;\n            });\n        }\n    \n        setRulesData(prev => ({\n            ...prev,\n            [itemsKey]: newFullListForState,\n        }));\n    \n        try {\n            const response = await fetch('/api/admin/rules', {\n                method: 'PATCH',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    type: itemsKey,\n                    items: updatedItemsForAPI,\n                }),\n            });\n    \n            if (!response.ok) {\n                toast.error('Nepodařilo se uložit nové pořadí.');\n                fetchRulesData();\n            } else {\n                toast.success('Pořadí bylo úspěšně uloženo.');\n            }\n        } catch (error) {\n            toast.error('Chyba sítě při ukládání pořadí.');\n            fetchRulesData();\n        }\n    };\n    \n    const handleEdit = (type: 'section' | 'subcategory' | 'rule', data: any) => {\n        setEditType(type)\n        setEditingData(data)\n        setIsEditing(true)\n    }\n\n    const handleNew = (type: 'section' | 'subcategory' | 'rule', context: any = {}) => {\n        setEditType(type);\n        const newData = \n            type === 'section' ? { id: '', title: '', icon: '', order_index: rulesData.sections.length }\n            : type === 'subcategory' ? { id: '', section_id: context.section_id, title: '', icon: '', order_index: rulesData.subcategories.filter(s => s.section_id === context.section_id).length }\n            : { section_id: context.section_id, subcategory_id: context.subcategory_id || null, content: '', order_index: rulesData.rules.filter(r => r.section_id === context.section_id && r.subcategory_id === (context.subcategory_id || null)).length };\n        setEditingData(newData);\n        setIsEditing(true);\n    };\n\n    const handleSave = async () => {\n        try {\n            setIsSaving(true)\n            const response = await fetch('/api/admin/rules', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ type: editType, data: editingData })\n            })\n            if (!response.ok) {\n                const errorData = await response.json()\n                toast.error(errorData.error || 'Chyba při ukládání')\n                return\n            }\n            toast.success('Položka byla úspěšně uložena!')\n            setIsEditing(false)\n            fetchRulesData()\n        } catch (error) {\n            console.error('Error saving:', error)\n            toast.error('Chyba při ukládání')\n        } finally {\n            setIsSaving(false)\n        }\n    }\n\n    const handleDelete = async () => {\n        if (!deleteTarget) return\n        try {\n            setIsDeleting(true)\n            const response = await fetch('/api/admin/rules', {\n                method: 'DELETE',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(deleteTarget)\n            })\n            if (!response.ok) {\n                const errorData = await response.json()\n                toast.error(errorData.error || 'Chyba při mazání')\n                return\n            }\n            toast.success('Položka byla úspěšně smazána!')\n            setDeleteTarget(null)\n            fetchRulesData()\n        } catch (error) {\n            console.error('Error deleting:', error)\n            toast.error('Chyba při mazání')\n        } finally {\n            setIsDeleting(false)\n        }\n    }\n    \n    const toggleOpen = (id: string) => {\n        setOpenItems(prev => ({ ...prev, [id]: !prev[id] }));\n    };\n\n    if (isLoading) {\n        return (\n            <div className=\"p-8\">\n                <div className=\"flex items-center justify-center min-h-96\">\n                    <div className=\"w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full animate-spin\"></div>\n                </div>\n            </div>\n        )\n    }\n\n    const renderRule = (rule: Rule) => (\n        <div className=\"flex items-start justify-between gap-4 p-3 rounded-lg bg-zinc-800/50 border border-zinc-700/50 group w-full\">\n            <p className=\"text-sm text-zinc-300 flex-1 break-words\">{rule.content}</p>\n            <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                <Button size=\"icon\" variant=\"ghost\" onClick={() => handleEdit('rule', rule)} className=\"h-8 w-8 hover:bg-blue-500/20 hover:text-blue-400\"><Edit3 className=\"h-4 w-4\" /></Button>\n                <Button size=\"icon\" variant=\"ghost\" onClick={() => setDeleteTarget({ type: 'rule', id: rule.id })} className=\"h-8 w-8 hover:bg-red-500/20 hover:text-red-400\"><Trash2 className=\"h-4 w-4\" /></Button>\n            </div>\n        </div>\n    );\n\n    const renderSubcategory = (subcategory: RuleSubcategory) => {\n        const rulesInSubcategory = rulesData.rules.filter(r => r.subcategory_id === subcategory.id);\n        return (\n            <div className=\"p-4 rounded-lg bg-zinc-800 border border-zinc-700 w-full\">\n                <div className=\"flex justify-between items-center mb-3\">\n                    <div className=\"flex items-center gap-3\">\n                        <button onClick={() => toggleOpen(subcategory.id)} className=\"p-1 hover:bg-zinc-700 rounded-md\"><ChevronDown className={`h-5 w-5 transition-transform ${openItems[subcategory.id] ? 'rotate-180' : ''}`} /></button>\n                        <h3 className=\"font-semibold text-lg text-zinc-100\">{subcategory.title}</h3>\n                        <span className=\"text-xs font-mono px-2 py-1 bg-zinc-700 rounded-md\">{rulesInSubcategory.length}</span>\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                        <Button size=\"sm\" variant=\"ghost\" onClick={() => handleNew('rule', { section_id: subcategory.section_id, subcategory_id: subcategory.id })}>Přidat pravidlo</Button>\n                        <Button size=\"icon\" variant=\"ghost\" onClick={() => handleEdit('subcategory', subcategory)} className=\"h-8 w-8 hover:bg-blue-500/20 hover:text-blue-400\"><Edit3 className=\"h-4 w-4\" /></Button>\n                        <Button size=\"icon\" variant=\"ghost\" onClick={() => setDeleteTarget({ type: 'subcategory', id: subcategory.id })} className=\"h-8 w-8 hover:bg-red-500/20 hover:text-red-400\"><Trash2 className=\"h-4 w-4\" /></Button>\n                    </div>\n                </div>\n                {openItems[subcategory.id] && (\n                    <div className=\"pl-8 pt-3 border-l-2 border-zinc-700 ml-3 flex flex-col gap-3\">\n                         <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd} modifiers={[restrictToVerticalAxis, restrictToWindowEdges]}>\n                            <SortableContext items={rulesInSubcategory.map(r => r.id)} strategy={verticalListSortingStrategy}>\n                                {rulesInSubcategory.map((rule) => (\n                                     <SortableItem key={rule.id} type=\"rule\" item={rule}>\n                                        {renderRule(rule)}\n                                    </SortableItem>\n                                ))}\n                            </SortableContext>\n                        </DndContext>\n                        {rulesInSubcategory.length === 0 && <p className=\"text-zinc-400 text-sm\">Žádná pravidla v této podkategorii.</p>}\n                    </div>\n                )}\n            </div>\n        );\n    };\n\n    const renderSection = (section: RuleSection) => {\n        const subcategoriesInSection = rulesData.subcategories.filter(s => s.section_id === section.id);\n        const rulesInSection = rulesData.rules.filter(r => r.section_id === section.id && !r.subcategory_id);\n        return (\n             <div key={section.id} className=\"p-4 rounded-xl bg-zinc-900 border border-zinc-700/80 w-full\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <div className=\"flex items-center gap-3\">\n                         <button onClick={() => toggleOpen(section.id)} className=\"p-1 hover:bg-zinc-800 rounded-md\"><ChevronDown className={`h-6 w-6 transition-transform ${openItems[section.id] ? 'rotate-180' : ''}`} /></button>\n                         <h2 className=\"font-bold text-xl text-white\">{section.title}</h2>\n                         <span className=\"text-xs font-mono px-2 py-1 bg-zinc-700 rounded-md\">{rulesInSection.length + rulesData.rules.filter(r => subcategoriesInSection.some(s => s.id === r.subcategory_id)).length}</span>\n                    </div>\n                    <div className=\"flex items-center gap-1\">\n                        <Button size=\"sm\" onClick={() => handleNew('subcategory', { section_id: section.id })}>Přidat podkategorii</Button>\n                        <Button size=\"sm\" variant=\"ghost\" onClick={() => handleNew('rule', { section_id: section.id })}>Přidat pravidlo</Button>\n                        <Button size=\"icon\" variant=\"ghost\" onClick={() => handleEdit('section', section)} className=\"h-8 w-8 hover:bg-blue-500/20 hover:text-blue-400\"><Edit3 className=\"h-4 w-4\" /></Button>\n                        <Button size=\"icon\" variant=\"ghost\" onClick={() => setDeleteTarget({ type: 'section', id: section.id })} className=\"h-8 w-8 hover:bg-red-500/20 hover:text-red-400\"><Trash2 className=\"h-4 w-4\" /></Button>\n                    </div>\n                </div>\n                 {openItems[section.id] && (\n                     <div className=\"pl-8 pt-4 border-l-2 border-zinc-700 ml-4 flex flex-col gap-4\">\n                        <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd} modifiers={[restrictToVerticalAxis, restrictToWindowEdges]}>\n                            <SortableContext items={subcategoriesInSection.map(s => s.id)} strategy={verticalListSortingStrategy}>\n                                {subcategoriesInSection.map((sub) => (\n                                    <SortableItem key={sub.id} type=\"subcategory\" item={sub}>\n                                        {renderSubcategory(sub)}\n                                    </SortableItem>\n                                ))}\n                            </SortableContext>\n                        </DndContext>\n\n                        <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd} modifiers={[restrictToVerticalAxis, restrictToWindowEdges]}>\n                            <SortableContext items={rulesInSection.map(r => r.id)} strategy={verticalListSortingStrategy}>\n                                {rulesInSection.map((rule) => (\n                                    <SortableItem key={rule.id} type=\"rule\" item={rule}>\n                                        {renderRule(rule)}\n                                    </SortableItem>\n                                ))}\n                            </SortableContext>\n                        </DndContext>\n\n                        {subcategoriesInSection.length === 0 && rulesInSection.length === 0 && <p className=\"text-zinc-400 text-sm\">Žádný obsah v této sekci.</p>}\n                     </div>\n                 )}\n            </div>\n        )\n    };\n    \n    return (\n        <>\n            <div className=\"p-4 sm:p-6 lg:p-8\">\n                <header className=\"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-8\">\n                    <div>\n                        <h1 className=\"text-3xl font-bold text-white\">Správa Pravidel</h1>\n                        <p className=\"text-zinc-400 mt-1\">Uspořádejte, upravujte a přidávejte pravidla serveru.</p>\n                    </div>\n                    <Button onClick={() => handleNew('section')} className=\"bg-red-600 hover:bg-red-700 text-white\">\n                        <Plus className=\"mr-2 h-4 w-4\" />\n                        Přidat novou sekci\n                    </Button>\n                </header>\n\n                <main className=\"flex flex-col gap-6\">\n                    <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd} modifiers={[restrictToVerticalAxis, restrictToWindowEdges]}>\n                        <SortableContext items={rulesData.sections.map(s => s.id)} strategy={verticalListSortingStrategy}>\n                            {rulesData.sections.map(section => (\n                                <SortableItem key={section.id} type=\"section\" item={section}>\n                                    {renderSection(section)}\n                                </SortableItem>\n                            ))}\n                        </SortableContext>\n                    </DndContext>\n                </main>\n            </div>\n\n            {isEditing && (\n                 <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex justify-center items-center\"\n                    onClick={() => setIsEditing(false)}\n                >\n                    <motion.div\n                        initial={{ scale: 0.95, y: 20 }}\n                        animate={{ scale: 1, y: 0 }}\n                        exit={{ scale: 0.95, y: 20 }}\n                        transition={{ duration: 0.2, ease: \"easeOut\" }}\n                        className=\"bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl w-full max-w-2xl p-8\"\n                        onClick={e => e.stopPropagation()}\n                    >\n                        <div className=\"flex justify-between items-center mb-6\">\n                            <h2 className=\"text-2xl font-bold text-white\">\n                                {editingData.id && editingData.id !== '' ? 'Upravit' : 'Vytvořit'} {editType === 'section' ? 'sekci' : editType === 'subcategory' ? 'podkategorii' : 'pravidlo'}\n                            </h2>\n                             <Button size=\"icon\" variant=\"ghost\" onClick={() => setIsEditing(false)} className=\"h-8 w-8 hover:bg-zinc-700\"><X className=\"h-5 w-5\" /></Button>\n                        </div>\n                        \n                        <div className=\"space-y-6\">\n                            {(editType === 'section' || editType === 'subcategory') && (\n                                <>\n                                    <div>\n                                        <Label htmlFor=\"title\">Název</Label>\n                                        <Input id=\"title\" value={editingData.title || ''} onChange={e => setEditingData({...editingData, title: e.target.value})} className=\"mt-1\"/>\n                                    </div>\n                                    <div>\n                                        <Label htmlFor=\"id\">Unikátní ID (bez diakritiky, např. {'\"obecna_pravidla'})</Label>\n                                        <Input id=\"id\" value={editingData.id || ''} onChange={e => setEditingData({...editingData, id: e.target.value.toLowerCase().replace(/[^a-z0-9_]/g, '')})} className=\"mt-1 font-mono\" disabled={!!editingData.id && editingData.id !== ''}/>\n                                    </div>\n                                </>\n                            )}\n                            {editType === 'rule' && (\n                                <div>\n                                    <Label htmlFor=\"content\">Obsah pravidla</Label>\n                                    <Textarea id=\"content\" value={editingData.content || ''} onChange={e => setEditingData({...editingData, content: e.target.value})} className=\"mt-1\" rows={5}/>\n                                    <p className=\"text-xs text-zinc-400 mt-2\">\n                                        Můžete použít Markdown pro formátování. Např: <code className=\"text-xs\">**tučně**</code>, <code className=\"text-xs\">*kurzíva*</code>, <code className=\"text-xs\">`kód`</code>.\n                                    </p>\n                                </div>\n                            )}\n                            {editType === 'rule' && (\n                                <div className=\"grid grid-cols-2 gap-4\">\n                                    <div>\n                                        <Label htmlFor=\"section_id\">Sekce</Label>\n                                        <Select value={editingData.section_id} onValueChange={val => setEditingData({...editingData, section_id: val, subcategory_id: null })}>\n                                            <SelectTrigger id=\"section_id\" className=\"mt-1\"><SelectValue/></SelectTrigger>\n                                            <SelectContent>\n                                                {rulesData.sections.map(s => <SelectItem key={s.id} value={s.id}>{s.title}</SelectItem>)}\n                                            </SelectContent>\n                                        </Select>\n                                    </div>\n                                    <div>\n                                        <Label htmlFor=\"subcategory_id\">Podkategorie (volitelné)</Label>\n                                        <Select value={editingData.subcategory_id || 'none'} onValueChange={val => setEditingData({...editingData, subcategory_id: val === 'none' ? null : val})} disabled={!editingData.section_id}>\n                                            <SelectTrigger id=\"subcategory_id\" className=\"mt-1\"><SelectValue/></SelectTrigger>\n                                            <SelectContent>\n                                                <SelectItem value=\"none\">Žádná podkategorie</SelectItem>\n                                                {rulesData.subcategories.filter(s => s.section_id === editingData.section_id).map(s => <SelectItem key={s.id} value={s.id}>{s.title}</SelectItem>)}\n                                            </SelectContent>\n                                        </Select>\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n\n                        <div className=\"flex justify-end gap-3 mt-8 pt-6 border-t border-zinc-700\">\n                             <Button variant=\"outline\" onClick={() => setIsEditing(false)}>Zrušit</Button>\n                             <Button onClick={handleSave} disabled={isSaving} className=\"bg-red-600 hover:bg-red-700 text-white\">\n                                {isSaving ? 'Ukládání...' : <><Save className=\"mr-2 h-4 w-4\"/> Uložit</>}\n                            </Button>\n                        </div>\n                    </motion.div>\n                </motion.div>\n            )}\n\n            <AlertDialog open={!!deleteTarget} onOpenChange={() => setDeleteTarget(null)}>\n                <AlertDialogContent>\n                    <AlertDialogHeader>\n                    <AlertDialogTitle>Opravdu chcete smazat tuto položku?</AlertDialogTitle>\n                    <AlertDialogDescription>\n                        Tato akce je nevratná. Pokud smažete sekci nebo podkategorii, smažou se i VŠECHNA pravidla v ní obsažená.\n                    </AlertDialogDescription>\n                    </AlertDialogHeader>\n                    <AlertDialogFooter>\n                    <AlertDialogCancel>Zrušit</AlertDialogCancel>\n                    <AlertDialogAction onClick={handleDelete} disabled={isDeleting} className={buttonVariants({ variant: \"destructive\" })}>\n                        {isDeleting ? 'Mazání...' : 'Smazat'}\n                    </AlertDialogAction>\n                    </AlertDialogFooter>\n                </AlertDialogContent>\n            </AlertDialog>\n        </>\n    )\n} "],"names":[],"mappings":"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"}