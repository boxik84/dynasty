module.exports=[48744,a=>{"use strict";let b=(0,a.i(34845).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],48744)},68919,a=>{"use strict";let b=(0,a.i(34845).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],68919)},59880,a=>{"use strict";let b=(0,a.i(34845).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],59880)},98074,a=>{"use strict";let b=(0,a.i(34845).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],98074)},3130,a=>{"use strict";var b=a.i(2470),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},51007,a=>{"use strict";let b=(0,a.i(34845).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],51007)},89141,a=>{"use strict";let b=(0,a.i(34845).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],89141)},14113,a=>{"use strict";let b=(0,a.i(34845).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],14113)},61859,a=>{"use strict";var b=a.i(2470),c=a.i(76972),d=a.i(3130),e=a.i(54161),f=a.i(28224),g=a.i(50463),h=a.i(51007),i=a.i(89141),j=a.i(59880),k=a.i(14113),l=a.i(17957),m=a.i(48744),n=a.i(95440),o=a.i(98074),p=a.i(68919),q=a.i(80833),r=a.i(56916),s=a.i(6328);function t(){let[a,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(!1),y=(0,s.useRouter)(),z=async(a=!0)=>{try{a&&v(!0);let b=await fetch("/api/user/whitelist-requests"),c=await b.json();b.ok?t(c):r.toast.error("Chyba při načítání žádostí",{description:c.error||"Došlo k neočekávané chybě"})}catch(a){console.error("Error fetching whitelist data:",a),r.toast.error("Chyba při načítání žádostí")}finally{a&&v(!1)}},A=async()=>new Promise(async(a,b)=>{try{let c=await fetch("/api/user/whitelist-requests"),d=await c.json();c.ok?(t(d),r.toast.success("Data úspěšně obnovena!"),a()):(r.toast.error("Chyba při obnovování dat",{description:d.error||"Došlo k neočekávané chybě"}),b(Error(d.error)))}catch(a){console.error("Error refreshing whitelist data:",a),r.toast.error("Chyba při obnovování dat"),b(a)}});(0,c.useEffect)(()=>{z(!0)},[]);let B=async(a,b)=>{try{await navigator.clipboard.writeText(a),r.toast.success(`${b} zkop\xedrov\xe1no!`,{description:a,duration:2e3})}catch{r.toast.error("Nepodařilo se zkopírovat")}};return u||w?(0,b.jsxs)("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"animate-pulse",children:[(0,b.jsx)(g.Skeleton,{className:"h-6 sm:h-8 w-48 sm:w-64 bg-white/5 mb-2"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-32 sm:w-48 bg-white/5"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[1,2,3].map(a=>(0,b.jsx)(g.Skeleton,{className:"h-20 sm:h-24 bg-white/5 rounded-lg"},a))}),(0,b.jsx)(g.Skeleton,{className:"h-80 sm:h-96 bg-white/5 rounded-lg"})]}):a?(0,b.jsxs)("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"Moje Whitelist žádosti"}),a.hasWhitelist&&(0,b.jsxs)(e.Badge,{variant:"outline",className:"border-green-500/30 text-green-400 bg-green-500/10 w-fit",children:[(0,b.jsx)(i.CheckCircle,{className:"h-3 w-3 mr-1"}),"Máte Whitelist"]})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm sm:text-base",children:"Přehled vašich žádostí o přístup na server"})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,b.jsx)(f.Button,{onClick:A,className:"border-[#b90505]/30 text-[#bd2727] hover:bg-[#b90505]/10 bg-transparent w-full sm:w-auto",children:"Obnovit"}),(0,b.jsxs)("button",{onClick:()=>y.push("/whitelist"),className:"bg-[#b90505] hover:bg-[#a00404] text-white w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed px-3 py-2 rounded-md text-sm font-medium flex items-center gap-2",disabled:!a.canSubmitNew||a.hasWhitelist,children:[(0,b.jsx)(l.FileText,{className:"h-4 w-4"}),a.hasWhitelist?"Již máte whitelist":"Podat novou žádost"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[(0,b.jsxs)(d.Card,{className:"bg-gradient-to-br from-blue-950/30 via-blue-900/30 to-blue-950/30 border-blue-500/20",children:[(0,b.jsx)(d.CardHeader,{className:"pb-3",children:(0,b.jsxs)(d.CardTitle,{className:"text-blue-400 text-sm font-medium flex items-center",children:[(0,b.jsx)(l.FileText,{className:"h-4 w-4 mr-2"}),"Celkem pokusů"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"text-2xl font-bold text-blue-300",children:[a.totalAttempts," / ",a.maxAttempts]})})]}),(0,b.jsxs)(d.Card,{className:"bg-gradient-to-br from-green-950/30 via-green-900/30 to-green-950/30 border-green-500/20",children:[(0,b.jsx)(d.CardHeader,{className:"pb-3",children:(0,b.jsxs)(d.CardTitle,{className:"text-green-400 text-sm font-medium flex items-center",children:[(0,b.jsx)(i.CheckCircle,{className:"h-4 w-4 mr-2"}),"Zbývající pokusy"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold text-green-300",children:a.remainingAttempts})})]}),(0,b.jsxs)(d.Card,{className:`bg-gradient-to-br ${a.activeRequest?"from-yellow-950/30 via-yellow-900/30 to-yellow-950/30 border-yellow-500/20":"from-gray-950/30 via-gray-900/30 to-gray-950/30 border-gray-500/20"}`,children:[(0,b.jsx)(d.CardHeader,{className:"pb-3",children:(0,b.jsxs)(d.CardTitle,{className:`text-sm font-medium flex items-center ${a.activeRequest?"text-yellow-400":"text-gray-400"}`,children:[(0,b.jsx)(h.Clock,{className:"h-4 w-4 mr-2"}),"Aktivní žádost"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:`text-2xl font-bold ${a.activeRequest?"text-yellow-300":"text-gray-400"}`,children:a.activeRequest?"Ano":"Ne"})})]})]}),0===a.remainingAttempts&&(0,b.jsx)(q.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-3 sm:p-4 bg-red-950/30 border border-red-500/30 rounded-lg",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,b.jsx)(k.AlertCircle,{className:"h-5 w-5 text-red-400 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-red-400 font-medium text-sm sm:text-base",children:"Limit pokusů dosažen"}),(0,b.jsxs)("p",{className:"text-red-300 text-xs sm:text-sm",children:["Vyčerpali jste všechny ",a.maxAttempts," pokusy na whitelist žádost. Nemůžete podat další žádost."]})]})]})}),a.hasWhitelist&&a.requests.length>0&&(0,b.jsx)(q.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-3 sm:p-4 bg-green-950/30 border border-green-500/30 rounded-lg",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[(0,b.jsx)(i.CheckCircle,{className:"h-5 w-5 text-green-400 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-green-400 font-medium text-sm sm:text-base",children:"Whitelist aktivní"}),(0,b.jsxs)("p",{className:"text-green-300 text-xs sm:text-sm",children:["Váš whitelist je aktivní a můžete se připojit na server.",a.requests.find(a=>"approved"===a.status)&&" Vaše žádost byla schválena."]})]})]})}),(0,b.jsxs)(d.Card,{className:"bg-gradient-to-br from-[#131618]/80 via-[#151a1c]/80 to-[#111b22]/90 border border-white/10 backdrop-blur-md",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{className:"text-white",children:"Historie žádostí"}),(0,b.jsx)(d.CardDescription,{children:"Seznam všech vašich whitelist žádostí"})]}),(0,b.jsx)(d.CardContent,{children:0===a.requests.length?(0,b.jsxs)("div",{className:"text-center py-6 sm:py-8 px-4",children:[(0,b.jsx)(l.FileText,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),(0,b.jsx)("p",{className:"text-gray-400 mb-3 sm:mb-4 text-sm sm:text-base",children:a.hasWhitelist?"Automaticky byla vytvořena schválená žádost":"Zatím jste nepodali žádnou whitelist žádost"}),(0,b.jsx)("button",{onClick:()=>y.push("/whitelist"),className:"bg-[#b90505] hover:bg-[#a00404] text-white w-full sm:w-auto disabled:opacity-50 disabled:cursor-not-allowed px-3 py-2 rounded-md text-sm font-medium",disabled:!a.canSubmitNew||a.hasWhitelist,children:a.hasWhitelist?"Již máte whitelist":"Podat první žádost"})]}):(0,b.jsx)("div",{className:"space-y-4",children:a.requests.map((a,c)=>{let d=(a=>{try{return JSON.parse(a)}catch{return null}})(a.form_data);return(0,b.jsxs)(q.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*c},className:"p-4 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-colors",children:[(0,b.jsx)("div",{className:"flex flex-col gap-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(n.User,{className:"h-4 w-4 text-gray-400"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:["Žádost #",a.id]}),(0,b.jsx)("button",{onClick:()=>B(a.id.toString(),"ID žádosti"),className:"p-1 rounded hover:bg-white/10 transition-colors group",title:"Kopírovat ID",children:(0,b.jsx)(o.Copy,{className:"h-3 w-3 text-gray-400 group-hover:text-white"})})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[a.serial_number&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.FileText,{className:"h-3 w-3 text-[#bd2727]"}),(0,b.jsx)("span",{className:"text-[#bd2727] text-sm font-mono font-semibold",children:a.serial_number}),(0,b.jsx)("button",{onClick:()=>B(a.serial_number,"Seriové číslo"),className:"p-1 rounded hover:bg-[#b90505]/20 transition-colors group",title:"Kopírovat seriové číslo",children:(0,b.jsx)(o.Copy,{className:"h-3 w-3 text-[#bd2727]/60 group-hover:text-[#bd2727]"})})]}),(0,b.jsxs)("p",{className:"text-gray-400 text-sm flex items-center gap-2",children:[(0,b.jsx)(m.Calendar,{className:"h-3 w-3"}),new Date(a.created_at).toLocaleDateString("cs-CZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>y.push(`/dashboard/whitelist-detail/${a.id}`),className:"border border-blue-500/30 text-blue-400 hover:bg-blue-500/10 flex items-center gap-2 px-3 py-1 rounded-md text-sm bg-transparent",children:[(0,b.jsx)(p.Eye,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Detail"})]}),(a=>{switch(a){case"pending":return(0,b.jsxs)(e.Badge,{variant:"outline",className:"border-yellow-500/30 text-yellow-400 bg-yellow-500/10",children:[(0,b.jsx)(h.Clock,{className:"h-3 w-3 mr-1"}),"Čeká se na vyhodnocení"]});case"approved":return(0,b.jsxs)(e.Badge,{variant:"outline",className:"border-green-500/30 text-green-400 bg-green-500/10",children:[(0,b.jsx)(i.CheckCircle,{className:"h-3 w-3 mr-1"}),"Schváleno"]});case"rejected":return(0,b.jsxs)(e.Badge,{variant:"outline",className:"border-red-500/30 text-red-400 bg-red-500/10",children:[(0,b.jsx)(j.XCircle,{className:"h-3 w-3 mr-1"}),"Odmítnuto"]});default:return null}})(a.status)]})]})}),d&&(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-gray-400 text-xs uppercase tracking-wide",children:"Discord:"}),(0,b.jsx)("p",{className:"text-white font-medium",children:d.discordName||"N/A"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-gray-400 text-xs uppercase tracking-wide",children:"Věk:"}),(0,b.jsx)("p",{className:"text-white font-medium",children:d.age||"N/A"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"text-gray-400 text-xs uppercase tracking-wide",children:"FiveM hodiny:"}),(0,b.jsx)("p",{className:"text-white font-medium",children:d.fivemHours||"N/A"})]})]})]},a.id)})})})]})]}):(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(k.AlertCircle,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-red-400",children:"Chyba při načítání dat"})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=_38a4ebb3._.js.map